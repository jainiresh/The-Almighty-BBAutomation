(self.webpackChunkensemble_client=self.webpackChunkensemble_client||[]).push([[717],{26031:function(e){function t(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}t.keys=function(){return[]},t.resolve=t,t.id=26031,e.exports=t},89985:function(e,t,n){"use strict";n.d(t,{q:function(){return c}});var r=n(1413),i=n(81694),a=n.n(i),o=n(72791),s={avatar:"Avatar_avatar__qbz0B","extra-extra-small":"Avatar_extra-extra-small__kSUGO","extra-small":"Avatar_extra-small__K-MQ9",small:"Avatar_small__rIB8f",medium:"Avatar_medium__-kSqy",large:"Avatar_large__hIyYo","extra-large":"Avatar_extra-large__vZWoa","extra-extra-large":"Avatar_extra-extra-large__HLlOq"},l=n(80184),u=[{backgroundColor:"#d5f0de",color:"#03502c"},{backgroundColor:"#d0e2ff",color:"#2122ac"},{backgroundColor:"#ffe8b4",color:"#5b3b04"},{backgroundColor:"#fddede",color:"#771111"},{backgroundColor:"#ffd5b8",color:"#6a1c04"},{backgroundColor:"#dfd8fa",color:"#5115aa"}],c=(0,o.forwardRef)((function(e,t){var n=e.appearance,i=void 0===n?"round":n,o=e.backgroundColor,c=e.className,d=e.color,v=e.copy,f=void 0===v?"WT":v,p=e.imageUrl,m=void 0===p?"":p,h=e.size,_=void 0===h?"small":h,w=e.style,g=function(e){var t=(e.charCodeAt(0)||1)+(e.charCodeAt(1)||1);return u[t%u.length]}(f),k=g.backgroundColor,x=g.color,b=o||k;m&&(b="");var I=(0,r.Z)({color:d||x,backgroundColor:b,backgroundImage:"url(".concat(m,")")},w),C=a()(c,s.avatar,s[_],s[i]);return(0,l.jsx)("div",{"data-test-id":"avatar",role:"img",className:C,style:I,ref:t,children:!m&&f})}))},20405:function(e,t,n){"use strict";n.d(t,{_:function(){return p}});var r=n(81694),i=n.n(r),a=n(72791),o=n(19055),s="LockBadge_lockBadge__6N2mq",l="LockBadge_small__mK9pM",u="LockBadge_medium__BfhA0",c="LockBadge_hovered__6JJuv",d="LockBadge_disabled__ELGsG",v="LockBadge_lockIcon__xf0zB",f=n(80184),p=(0,a.forwardRef)((function(e,t){var n=e.size,r=void 0===n?"medium":n,a=e.dataTestId,p=e.disabled,m=e.isHovered,h="small"===r;return(0,f.jsx)("div",{ref:t,"data-test-id":a,className:i()(s,h?[l]:[u],p?[d]:void 0,m?[c]:void 0),children:(0,f.jsx)(o.zc,{className:i()(v,h?[l]:[u])})})}))},3404:function(e,t,n){"use strict";n.d(t,{v:function(){return o}});var r=n(1413),i=n(61910),a=(n(354),n(80184));function o(e){return(0,a.jsx)(i.v2,(0,r.Z)({},e))}},10806:function(e,t,n){"use strict";n.d(t,{s:function(){return d}});var r=n(1413),i=n(45987),a=n(61910),o=n(81694),s=n.n(o),l=n(16335),u=n(80184),c=["className"];function d(e){var t=e.className,n=(0,i.Z)(e,c);return(0,u.jsx)(a.sN,(0,r.Z)((0,r.Z)({},n),{},{className:s()(l.Z.menuItem,t)}))}},86207:function(e,t,n){"use strict";n.d(t,{s:function(){return d}});var r=n(1413),i=n(45987),a=n(61910),o=n(81694),s=n.n(o),l="MenuItems_menuItems__Sf3hB",u=n(80184),c=["className"];function d(e){var t=e.className,n=(0,i.Z)(e,c);return(0,u.jsx)(a.sd,(0,r.Z)((0,r.Z)({},n),{},{className:s()(l,t)}))}},63546:function(e,t,n){"use strict";n.d(t,{Y:function(){return v}});var r=n(1413),i=n(45987),a=n(61910),o=n(81694),s=n.n(o),l="MenuPopover_menuPopover__7Xn-y",u="MenuPopover_title__NbfeF",c=n(80184),d=["className","children","title","align","offsetYAbove","offsetYBelow","offsetX","style"];function v(e){var t=e.className,n=e.children,o=e.title,v=e.align,f=void 0===v?"default":v,p=e.offsetYAbove,m=void 0===p?0:p,h=e.offsetYBelow,_=void 0===h?0:h,w=e.offsetX,g=void 0===w?0:w,k=e.style,x=(0,i.Z)(e,d);function b(e,t,n){return{top:"".concat(n?e.top-t.height+window.pageYOffset-m:e.top+e.height+window.pageYOffset-_,"px")}}function I(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i={top:e.top-t.height<0,right:window.innerWidth<e.left+t.width-n,bottom:window.innerHeight<e.bottom+t.height-r,left:e.left+e.width-t.width<0},a=i.right&&!i.left,o=i.left&&!i.right,s=i.bottom&&!i.top,l=i.top&&!i.bottom;return{directionRight:a,directionLeft:o,directionUp:s,directionDown:l}}return(0,c.jsx)(a.YI,(0,r.Z)((0,r.Z)({},x),{},{position:function(e){var t=e.align,n=e.offset,i=function(e,t){if(!e||!t)return{};var n=I(e,t),i=n.directionRight,a=n.directionUp;return(0,r.Z)({left:"".concat(i?e.right-t.width+window.pageXOffset:e.left+window.pageXOffset,"px")},b(e,t,a))};return"center"===t&&(i=function(e,t){if(!e||!t)return{};var r=e.left+e.width/2-t.width/2,i=window.innerWidth-t.width-2;return{left:Math.min(Math.max(2,r),i-n)+window.scrollX,top:e.bottom+window.scrollY}}),"top"===t&&(i=function(e,t){if(!e||!t)return{};var r=I(e,t).directionRight;return{left:"".concat(r?e.right-t.width+window.pageXOffset:e.left+window.pageXOffset,"px"),top:"".concat(e.bottom-e.height-t.height-n+window.scrollY,"px")}}),"left"===t&&(i=function(e,t){if(!e||!t)return{};var n=I(e,t),i=n.directionLeft,a=n.directionUp;return(0,r.Z)({left:"".concat(i?e.left+window.pageXOffset-g:e.right-t.width+window.pageXOffset-g,"px")},b(e,t,a))}),i}({align:f,offset:m}),className:s()(l,t),style:k,children:(0,c.jsxs)(c.Fragment,{children:[o&&(0,c.jsx)("div",{className:u,children:o}),n]})}))}},65310:function(e,t,n){"use strict";n.d(t,{v2:function(){return r.v},j2:function(){return i.j2},sN:function(){return a.s},sd:function(){return o.s},Uk:function(){return m},YI:function(){return s.Y}});var r=n(3404),i=n(61910),a=n(10806),o=n(86207),s=n(63546),l=n(1413),u=n(45987),c=n(81694),d=n.n(c),v=n(16335),f=n(80184),p=["className"];function m(e){var t=e.className,n=(0,u.Z)(e,p);return(0,f.jsx)(i.Uk,(0,l.Z)((0,l.Z)({},n),{},{className:d()(v.Z.menuItem,t)}))}},42667:function(e,t,n){"use strict";n.d(t,{D:function(){return f}});var r=n(1413),i=n(45987),a=n(81694),o=n.n(a),s=n(72791),l=n(24566),u=n(78687),c={container:"Pill_container__ROh1I",content:"Pill_content__nlsif",actionButton:"Pill_actionButton__J0zk3",regular:"Pill_regular__9Jt0-"},d=n(80184),v=["actionIcon","onClick","onIconClick","size","className","children","as"],f=(0,s.forwardRef)((function(e,t){var n=e.actionIcon,a=e.onClick,f=e.onIconClick,p=e.size,m=void 0===p?"regular":p,h=e.className,_=e.children,w=e.as,g=void 0===w?"div":w,k=(0,i.Z)(e,v),x=(0,s.useRef)(null);return(0,d.jsxs)(u.G,(0,r.Z)((0,r.Z)({ref:t,as:g,onClick:a,className:o()(c.container,c[m],h)},k),{},{children:[(0,d.jsx)("div",{className:c.content,children:_}),n&&(0,d.jsx)(l.hU,{ref:x,onClick:f,className:c.actionButton,onMouseDown:function(e){var t;e.preventDefault(),null===(t=x.current)||void 0===t||t.focus()},children:(0,d.jsx)(n,{})})]}))}))},42898:function(e,t,n){"use strict";n.d(t,{J:function(){return d}});var r=n(4942),i=n(81694),a=n.n(i),o="Marker_marker__4KUKa",s="Marker_selected__ItJTd",l="Marker_dimmed__Jk7Lx",u="Marker_button__6u5O2",c=n(80184);function d(e){var t,n=e.marker,i=e.position,d=e.onMarkerSelect;return(0,c.jsx)("li",{className:a()(o,(t={},(0,r.Z)(t,l,"not-selected"===n.status),(0,r.Z)(t,s,"selected"===n.status),t)),style:{left:i},children:(0,c.jsx)("button",{className:a()(u,(0,r.Z)({},s,"selected"===n.status)),onClick:function(){return null===d||void 0===d?void 0:d(n)},style:{background:n.color}})},n.id)}},41765:function(e,t,n){"use strict";n.d(t,{s:function(){return a}});var r="Markers_markers__mLIU3",i=n(80184);function a(e){var t=e.children;return(0,i.jsx)("ul",{className:r,children:t})}},39972:function(e,t,n){"use strict";n.d(t,{B:function(){return p}});var r=n(4942),i=n(81694),a=n.n(i),o=n(24566),s=n(19055),l="Playback_playback__2sDzX",u="Playback_button__2fPw8",c="Playback_seekBackwards__g3BE1",d="Playback_seekForwards__Ksyjt",v="Playback_hideControl__GALf1",f=n(80184);function p(e){var t=e.containerWidth,n=e.playing,i=e.seekBackwardsLabel,p=e.seekForwardsLabel,m=e.onPlayPause,h=e.onSeekBackwards,_=e.onSeekForwards;return(0,f.jsxs)("div",{className:l,children:[(0,f.jsx)(o.hU,{size:"small",appearance:"inverted",onClick:h,className:a()(u,c,(0,r.Z)({},v,t<202)),"aria-label":i,children:(0,f.jsx)(s.Rt,{})}),(0,f.jsx)(o.hU,{size:"regular",appearance:"inverted",onClick:m,className:u,"aria-label":n?"Pause":"Play",children:n?(0,f.jsx)(s.HQ,{}):(0,f.jsx)(s.qG,{})}),(0,f.jsx)(o.hU,{size:"small",appearance:"inverted",onClick:_,className:a()(u,d,(0,r.Z)({},v,t<202)),"aria-label":p,children:(0,f.jsx)(s.UP,{})})]})}},94741:function(e,t,n){"use strict";n.d(t,{i:function(){return s}});var r=n(1413),i=n(99943),a=(n(11535),"Slider_slider__qyUZa"),o=n(80184);function s(e){return(0,o.jsx)("div",{className:a,children:(0,o.jsx)(i.a,(0,r.Z)((0,r.Z)({},e),{},{children:(0,o.jsxs)(i.Uj,{children:[(0,o.jsx)(i.i5,{}),(0,o.jsx)(i.h4,{})]})}))})}},89898:function(e,t,n){"use strict";n.d(t,{m:function(){return o}});var r=function(e){return Math.trunc(e/60/60%60)},i=function(e){return Math.trunc(e/60%60)},a=function(e){return Math.trunc(e%60)},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(e){return"0".concat(e).slice(-2)},o=r(e),s=i(e),l=a(e);return"".concat(t||o>0?"".concat(o,":"):"").concat(n(s),":").concat(n(l))}},54333:function(e,t,n){"use strict";n.d(t,{q:function(){return o}});var r="Time_time__qyGN7",i=n(89898),a=n(80184);function o(e){var t=e.label,n=e.seconds,o=e.alwaysShowHours;return(0,a.jsx)("div",{className:r,"aria-label":t,children:(0,i.m)(Math.max(0,n),o)})}},5932:function(e,t,n){"use strict";n.d(t,{s:function(){return c},b:function(){return d}});var r=n(72791),i=n(54333),a="TimeProgress_timeProgress__WKaHv",o="TimeProgress_currentTime__5+S5l",s="TimeProgress_separator__BuK+g",l="TimeProgress_endTime__iqpk2",u=n(80184),c=295;function d(e){var t=e.currentTime,n=e.endTime,c=e.containerWidth,d=(0,r.useMemo)((function(){return c>340}),[c]);return(0,u.jsxs)("div",{className:a,children:[(0,u.jsx)("div",{className:o,children:(0,u.jsx)(i.q,{label:"Current Time",seconds:t})}),d&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:s,children:"/"}),(0,u.jsx)("div",{className:l,children:(0,u.jsx)(i.q,{label:"End Time",seconds:n})})]})]})}},13385:function(e,t,n){"use strict";n.d(t,{b:function(){return r.b}});var r=n(5932)},74175:function(e,t,n){"use strict";n.d(t,{nk:function(){return Y},$w:function(){return T}});var r=n(1413),i=n(29439),a=n(45987),o=n(65467),s=n(55430),l=n(72791),u=n(97415),c=n(86493),d=n(19055),v=n(71775),f=n(7879),p=n(18298),m=n(70472),h=n(4942),_=n(81694),w=n.n(_),g=n(24566),k=n(42898),x=n(41765),b=n(39972),I=n(94741),C={scrubber:"Scrubber_scrubber__Rr6q4",light:"Scrubber_light__d88fW",dark:"Scrubber_dark__VZ95i",ended:"Scrubber_ended__Lhb7V"},y=n(80184);function P(e){var t=e.currentTime,n=e.duration,r=e.step,i=e.theme,a=void 0===i?"light":i,o=e.handleAlignment,s=e.onChange;return(0,y.jsx)("div",{className:w()(C.scrubber,C[a],(0,h.Z)({},C.ended,t===n)),children:(0,y.jsx)(I.i,{min:0,max:n,value:t,step:r,handleAlignment:o,onChange:s})})}var S=n(13385),E=n(5932),j=n(77400);function T(e){var t=e.time,n=e.framerate;return Math.floor(t*n)}function N(e){var t=e.value,n=e.size,r=e.maxValue,i=e.containerWidth;if(!i||!r)return"0";var a=t/r*100,o=a<=0?0:a>=100?100:a,s="small"===n?.5:.75,l=100/(i/(16*s)),u="0.125rem";return o-l<=0?u:o>=100-l?"calc(".concat(100-l,"% - ").concat(u,")"):"calc(".concat(o,"% - ").concat(s/2,"rem)")}var R="Controls_markers__daW8o",Z="Controls_fullscreen__1L+Dv",D="Controls_padding__tW6kq",A="Controls_flex__ZvLbm",M="Controls_flex1__Pxtd4",L="Controls_flex2__jZV6n",O="Controls_justifyCenter__xPvYN",B="Controls_justifyEnd__bYvWO",F="Controls_alignCenter__8Qyrk",U="Controls_spaceRight__EAV8B",V="Controls_controls__M-LWK",W="Controls_button__y5h1+",H="Controls_volume__uNK1r",G=(0,l.forwardRef)((function(e,t){var n=e.currentTime,r=e.duration,a=e.step,o=e.playing,s=e.muted,c=e.volume,v=e.isFullscreenActive,f=e.markers,p=e.onMarkerSelect,m=e.onScrubberChange,_=e.onPlayPause,I=e.onFullscreenClick,C=e.onSeekBackwards,T=e.onSeekForwards,G=e.onToggleMuted,z=e.onVolumeUpdate,q=(0,u.Z)(),$=(0,i.Z)(q,2),X=$[0],Y=$[1].width,K=!v&&f&&f.length>0&&r>0,J=(0,l.useMemo)((function(){return!Y||Y>236}),[Y]),Q=(0,l.useMemo)((function(){return Y>E.s}),[Y]);return(0,y.jsxs)("div",{className:V,ref:t,children:[(0,y.jsx)("div",{ref:X,className:R,children:K&&(0,y.jsx)(x.s,{children:f.map((function(e){return(0,y.jsx)(k.J,{marker:e,position:"".concat(N({value:e.value,size:e.size,maxValue:r,containerWidth:Y})),onMarkerSelect:p},e.id)}))})}),(0,y.jsx)("div",{className:w()(M,(0,h.Z)({},Z,v)),children:(0,y.jsx)(P,{currentTime:n,duration:r,step:a,theme:v?"light":"dark",handleAlignment:v?"contain":"center",onChange:function(e){return m(e)}})}),(0,y.jsxs)("div",{className:w()(A,F,D),children:[(0,y.jsx)("div",{className:M,children:(0,y.jsxs)("div",{className:w()(A,F),children:[(0,y.jsx)(g.hU,{size:"regular",appearance:"inverted",onClick:I,className:w()(W,U),"aria-label":v?"Exit full screen":"Enter full screen",children:v?(0,y.jsx)(d.eW,{}):(0,y.jsx)(d.bu,{})}),J&&(0,y.jsx)("div",{className:w()(M,H),children:(0,y.jsx)(j.f,{muted:s,volume:c,onChange:function(e){return z(e)},onToggleMuted:G})})]})}),(0,y.jsx)("div",{className:w()(L,A,O),children:(0,y.jsx)(b.B,{containerWidth:Y,playing:o,seekBackwardsLabel:"Skip back one frame",seekForwardsLabel:"Skip forward one frame",onPlayPause:_,onSeekBackwards:C,onSeekForwards:T})}),Q&&(0,y.jsx)("div",{className:w()(M,A,B),children:(0,y.jsx)(S.b,{currentTime:n,endTime:r,containerWidth:Y})})]})]})})),z="Video_container__6oPy+",q="Video_iconOverlay__R3WoQ",$="Video_icon__tOrmi",X=["filename","controls","framerate","height","width","aspectRatio","children","markers","onMarkerSelect","onCurrentTimeChange","onPlaybackReady","onDurationChange","markupLayer","previewLimitDisplay","videoRef","setVideoRef","id"];function Y(e){var t,n,h=e.filename,_=void 0===h?"":h,w=e.controls,g=void 0===w||w,k=e.framerate,x=e.height,b=e.width,I=e.aspectRatio,C=e.children,P=e.markers,S=e.onMarkerSelect,E=e.onCurrentTimeChange,j=e.onPlaybackReady,N=e.onDurationChange,R=e.markupLayer,Z=e.previewLimitDisplay,D=e.videoRef,A=e.setVideoRef,M=e.id,L=(0,a.Z)(e,X),O=(0,l.useState)(b||0),B=(0,i.Z)(O,2),F=B[0],U=B[1],V=(0,l.useState)(x||0),W=(0,i.Z)(V,2),H=W[0],Y=W[1],K=(0,l.useState)(g),J=(0,i.Z)(K,2),Q=J[0],ee=J[1],te=(0,l.useRef)(null),ne=null!==D&&void 0!==D?D:te,re=(0,u.Z)(),ie=(0,i.Z)(re,2),ae=ie[0],oe=ie[1].height,se=(0,s.gD)(ne,"playing",!1),le=(0,i.Z)(se,1)[0],ue=(0,s.gD)(ne,"isFullscreenActive",!1),ce=(0,i.Z)(ue,1)[0],de=(0,s.gD)(ne,"currentTime",0),ve=(0,i.Z)(de,2),fe=ve[0],pe=ve[1],me=(0,l.useState)(0),he=(0,i.Z)(me,2),_e=he[0],we=he[1],ge=(0,s.gD)(ne,"muted",!1),ke=(0,i.Z)(ge,2),xe=ke[0],be=ke[1],Ie=(0,s.gD)(ne,"volume",100),Ce=(0,i.Z)(Ie,2),ye=Ce[0],Pe=Ce[1],Se=(0,l.useState)(Math.round(ye)),Ee=(0,i.Z)(Se,2),je=Ee[0],Te=Ee[1],Ne=(0,l.useState)(!1),Re=(0,i.Z)(Ne,2),Ze=Re[0],De=Re[1],Ae=(0,l.useContext)(m.X).reviewId,Me=(0,l.useState)(!1),Le=(0,i.Z)(Me,2),Oe=Le[0],Be=Le[1],Fe=T({time:_e,framerate:k}),Ue=_e/Fe,Ve=null===(t=ne.current)||void 0===t||null===(n=t.shadowRoot)||void 0===n?void 0:n.querySelector(".video.player"),We=(0,p.G)().isMinDesktop;function He(e){var t,n,r,i,a,o,s=ne.current,l=null!==(t=null!==e&&void 0!==e?e:null===s||void 0===s?void 0:s.muted)&&void 0!==t&&t;return{currentTime:null!==(n=null===s||void 0===s?void 0:s.currentTime)&&void 0!==n?n:0,duration:null!==s&&void 0!==s&&s.duration&&(null===s||void 0===s?void 0:s.duration)>=0?null===s||void 0===s?void 0:s.duration:0,muted:l,loop:null!==(r=null===s||void 0===s?void 0:s.loop)&&void 0!==r&&r,paused:null!==(i=null===s||void 0===s?void 0:s.paused)&&void 0!==i&&i,ended:Ze,playbackRate:null!==(a=null===s||void 0===s?void 0:s.playbackRate)&&void 0!==a?a:1,volume:Math.round(l?0:null!==(o=null===s||void 0===s?void 0:s.volume)&&void 0!==o?o:0)}}function Ge(){var e,t;if(le)return(0,o.nc)({id:M,player:He()}),void(null===(t=ne.current)||void 0===t||t.pause());(0,o._)({id:M,player:He()}),De(!1),null===(e=ne.current)||void 0===e||e.play()}function ze(){var e=He(!xe);(0,o.BB)({id:M,previousVolume:je,newVolume:e.volume,player:e}),be(!xe),Te(e.volume)}function qe(e){var t=He(),n=Math.round(e);(0,o.BB)({id:M,previousVolume:je,newVolume:n,player:t}),Pe(n),xe&&be(!1)}function $e(e){var t,n=e.newCurrentTime,r=e.forcePause;(pe(n),r||!r&&!le)&&(null===(t=ne.current)||void 0===t||t.pause())}function Xe(){fe<=0||$e({newCurrentTime:fe-Ue<=0?0:fe-Ue,forcePause:!0})}function Ye(){fe>=_e||$e({newCurrentTime:fe+Ue>=_e?_e:fe+Ue,forcePause:!0})}function Ke(){var e,t;ce?null===(e=ne.current)||void 0===e||e.exitFullscreen():null===(t=ne.current)||void 0===t||t.enterFullscreen()}function Je(e){$e({newCurrentTime:e,forcePause:!1})}(0,c.Z)((function(){Te(Math.round(ye))}),1e3,[ye]),(0,l.useEffect)((function(){return M&&(0,o._D)({id:M,boundaries:[2,5,10,20,30,40,50,60,70,80,90,99],pings:!0,context:[{schema:"iglu:com.wetransfer/review_item_context/jsonschema/2-0-0",data:{review_id:Ae,item_id:M,file_type:(0,f.mD)(_)}}]}),function(){(0,o.pw)({id:M})}}),[_,M,Ae]),(0,l.useEffect)((function(){var e=function(e){return e<122?(Q&&ee(!1),0):(g&&!Q&&ee(!0),oe)},t=function(e,t){return e*I+t},n=function(e,t){return(e-t)/I};if(b&&oe){var r=t(b,oe);if(!x||r<x||!We){var i=e(b);Y(t(b,i)),U(b)}else{var a=e(n(x,oe));Y(x),U(n(x,a))}}}),[I,g,oe,x,We,b,Y,U,Q]),(0,l.useEffect)((function(){ne.current&&(ne.current.playbackStarted=!0)}),[ne]),(0,l.useEffect)((function(){null===E||void 0===E||E(fe)}),[fe]),(0,l.useEffect)((function(){var e=ce?"100%":"calc(".concat(H,"px - ").concat(Q?oe:0,"px)"),t="\n      min-width: initial;\n      ".concat(H?"":"padding-top: 56.25%",";\n      ").concat(H?"height: ".concat(e):"",";\n    ");null===Ve||void 0===Ve||Ve.setAttribute("style",t)}),[H,oe,Ve,Q,ce]);var Qe=(0,l.useMemo)((function(){return!Q&&!ce&&Oe}),[ce,Oe,Q]);return(0,y.jsxs)("div",{className:z,style:{width:F,height:H},"data-test-id":"video",onClick:Qe?Ge:function(){},id:M,children:[Qe&&(0,y.jsx)("div",{className:q,style:{width:F,height:H},children:!le&&(0,y.jsx)(d.sh,{className:$})}),(0,y.jsxs)(s.J5,{playsinline:!0,controls:!1,ref:A||ne,onVmPlaybackReady:function(){Be(!0),null===j||void 0===j||j()},onVmDurationChange:function(e){var t=-1===e.detail?0:e.detail;we(t),null===N||void 0===N||N(t)},onVmPlaybackEnded:function(){(0,o.e4)({id:M,player:He()}),De(!0)},onVmCurrentTimeChange:function(){(0,o.yi)({id:M,player:He()})},onVmError:function(){(0,o.JV)({id:M,errorDescription:"Error playing video",player:He()})},onVmSeeked:function(){De(!1),(0,o.TL)({id:M,player:He()})},children:[Z?(0,y.jsx)("div",{style:{height:H-oe},children:Z}):(0,y.jsx)(s.nk,(0,r.Z)((0,r.Z)({},L),{},{children:C})),R,(0,y.jsxs)(s.Ui,{children:[ce&&(0,y.jsx)(s.ZX,{fullWidth:!0,hideOnMouseLeave:!0,children:(0,y.jsx)(G,{ref:ae,currentTime:fe,duration:_e,step:Ue,playing:le,muted:xe,volume:ye,isFullscreenActive:ce,markers:P,onMarkerSelect:S,onScrubberChange:Je,onPlayPause:Ge,onFullscreenClick:Ke,onSeekBackwards:Xe,onSeekForwards:Ye,onToggleMuted:ze,onVolumeUpdate:qe})}),!Z&&(0,y.jsx)(s.a_,{hideDots:!0,children:!Oe&&(0,y.jsx)(v.$,{})})]})]}),Q&&!ce&&(0,y.jsx)(G,{ref:ae,currentTime:fe,duration:_e,step:Ue,playing:le,muted:!Z&&xe,volume:Z?0:ye,isFullscreenActive:ce,markers:P,onMarkerSelect:S,onScrubberChange:Je,onPlayPause:Ge,onFullscreenClick:Ke,onSeekBackwards:Xe,onSeekForwards:Ye,onToggleMuted:ze,onVolumeUpdate:qe})]})}},77400:function(e,t,n){"use strict";n.d(t,{f:function(){return c}});var r=n(24566),i=n(19055),a=n(94741),o="Volume_volume__UVcpa",s="Volume_slider__D+8B+",l="Volume_button__PeyhQ",u=n(80184);function c(e){var t=e.muted,n=e.volume,c=e.onToggleMuted,d=e.onChange;return(0,u.jsxs)("div",{className:o,children:[(0,u.jsx)(r.hU,{size:"regular",appearance:"inverted",onClick:c,className:l,"aria-label":t?"Unmute":"Mute",children:t||0===n?(0,u.jsx)(i.dh,{}):(0,u.jsx)(i.fv,{})}),(0,u.jsx)("div",{className:s,children:(0,u.jsx)(a.i,{min:0,max:100,value:t?0:n,onChange:d})})]})}},46724:function(e,t,n){"use strict";n.d(t,{J:function(){return _}});var r=n(29439),i=n(81694),a=n.n(i),o=n(72791),s=n(24365),l=n(94516),u=n(1413),c=n(19055),d="ArrowContainer_contentContainer__s3SM-",v="ArrowContainer_arrow__A5h4M",f="ArrowContainer_icon__L4bcg",p=n(80184);function m(e){var t=e.children,n=e.position,r=e.className,i=e.arrowColor,o=void 0===i?"white":i,s=e.arrowFollowTarget,l=e.childRect,m=e.popoverRect,h=e.padding,_={color:o};return s&&null!==n&&void 0!==n&&n.includes("right")&&(_=(0,u.Z)((0,u.Z)({},_),{},{top:l.top-m.top+l.height/2-12,right:h+3,display:"initial"})),s&&null!==n&&void 0!==n&&n.includes("bottom")&&(_=(0,u.Z)((0,u.Z)({},_),{},{display:"initial",top:-h-3,left:l.left-m.left+l.width/2-12})),(0,p.jsxs)("div",{className:d,"data-arrow-position":n,children:[n&&["top","left"].includes(n)?t:null,(0,p.jsx)("div",{className:a()(v,r),"data-arrow-position":n,style:(0,u.Z)({},_),children:(0,p.jsx)(c.z$,{className:f,size:"large"})}),n&&["bottom","right"].includes(n)?t:null]})}var h="Popover_wrapper__AYtYQ";function _(e){var t=e.target,n=e.children,i=e.arrowClassName,u=e.positions,c=void 0===u?["top","bottom","left","right"]:u,d=e.align,v=e.padding,f=void 0===v?5:v,_=e.arrowColor,w=void 0===_?"white":_,g=e.setIsShowing,k=e.isShowing,x=e.showArrow,b=void 0===x||x,I=e.arrowFollowTarget,C=void 0!==I&&I,y=e.boundaryInset,P=void 0===y?0:y,S=e.dismissOnScroll,E=void 0!==S&&S,j=e.parentElement,T=e.containerClassName,N=(0,o.useState)(!1),R=(0,r.Z)(N,2),Z=R[0],D=R[1],A=(0,l.Z)(),M="undefined"!=typeof k?k:Z,L="undefined"!=typeof g?g:D;return(0,o.useEffect)((function(){E&&A&&L(!1)}),[A,L,E]),(0,p.jsx)(s.Popover,{isOpen:M,positions:c,align:d,content:function(e){var t=e.position,r=e.childRect,a=e.popoverRect;return b?(0,p.jsx)(m,{position:t,arrowColor:w,className:i,arrowFollowTarget:C,childRect:r,popoverRect:a,padding:f,children:n}):n},boundaryInset:P,padding:f,onClickOutside:function(){return L(!1)},containerClassName:a()(h,T),parentElement:j,children:(0,o.cloneElement)(t,{onClick:function(){return L(!k)}})})}},42249:function(e,t,n){"use strict";n.d(t,{s:function(){return l}});var r=n(19055),i=n(90222),a="SetPassphraseNotification_icon__-7tH3",o="SetPassphraseNotification_text__mj+N-",s=n(80184);function l(e){var t=e.children,n=e.showUnlockIcon;return(0,s.jsx)(i.k,{icon:n?r.jW:r.jU,space:"small",size:"regular",className:a,children:(0,s.jsx)("span",{className:o,children:t})})}},71775:function(e,t,n){"use strict";n.d(t,{$:function(){return s}});var r=n(81694),i=n.n(r),a="Spinner_spinner__H2HDD",o=n(80184);function s(e){var t=e.className,n=e.color,r=void 0===n?"white":n;return(0,o.jsx)("svg",{className:i()(t,a),fill:"none",fillRule:"evenodd",stroke:r,strokeLinecap:"round",strokeWidth:"2",viewBox:"0 0 50 50",children:(0,o.jsx)("path",{d:"M25,37.8 C32.0692448,37.8 37.8,32.0692448 37.8,25 C37.8,17.9307552 32.0692448,12.2 25,12.2 C17.9307552,12.2 12.2,17.9307552 12.2,25"})})}},77176:function(e,t,n){"use strict";n.d(t,{o:function(){return f}});var r=n(1413),i=n(4942),a=n(45987),o=n(81694),s=n.n(o),l=n(72791),u=n(19055),c={background:"TextInput_background__+UMsG",wrapper:"TextInput_wrapper__h7UEo",label:"TextInput_label__FbhVk",withValue:"TextInput_withValue__wbOc8",container:"TextInput_container__v3Vwk",error:"TextInput_error__Yw5m1",info:"TextInput_info__0Oe2L",disabled:"TextInput_disabled__7b2op",input:"TextInput_input__YOUtH",withLabel:"TextInput_withLabel__7l80m",textarea:"TextInput_textarea__PEPzQ",prefix:"TextInput_prefix__WDyhJ",suffix:"TextInput_suffix__9ra1w",hint:"TextInput_hint__e1alm",icon:"TextInput_icon__zAwCY",fadeInAnimation:"TextInput_fadeInAnimation__x1ATW",fadeOutAnimation:"TextInput_fadeOutAnimation__RHu1I",moveUp:"TextInput_moveUp__NEXKx",spin:"TextInput_spin__OshjM",pulse:"TextInput_pulse__CDirW",bgColorPulse:"TextInput_bgColorPulse__p-6Ss"},d=n(80184),v=["className","prefix","suffix","multiline","status","hint","disabled","inputClassName","backgroundClassName","label","id","value"],f=(0,l.forwardRef)((function(e,t){var n,o=e.className,l=e.prefix,f=e.suffix,p=e.multiline,m=void 0!==p&&p,h=e.status,_=e.hint,w=e.disabled,g=e.inputClassName,k=e.backgroundClassName,x=e.label,b=e.id,I=e.value,C=(0,a.Z)(e,v),y=m?"textarea":"input",P=s()(c.background,h&&c[h],(0,i.Z)({},c.disabled,w),k),S=s()(c.label,(0,i.Z)({},c.withValue,!!I)),E=s()(c.input,(n={},(0,i.Z)(n,c.disabled,w),(0,i.Z)(n,c.withLabel,!!x),n),g);return(0,d.jsxs)("div",{className:c.wrapper,children:[(0,d.jsxs)("div",{className:s()(c.container,(0,i.Z)({},c.textarea,m),o),children:[x&&(0,d.jsx)("label",{htmlFor:b,className:S,children:x}),(0,d.jsx)(y,(0,r.Z)((0,r.Z)({},C),{},{id:b,value:I,className:E,ref:t,rows:6,disabled:w})),(0,d.jsx)("div",{className:P}),l&&(0,d.jsx)("div",{className:c.prefix,children:l}),f&&(0,d.jsx)("div",{className:c.suffix,children:f})]}),h&&_&&(0,d.jsxs)("div",{className:s()(c.hint,c[h]),"data-test-id":"textInput.hint",children:["info"!==h&&(0,d.jsx)("span",{className:c.icon,children:"error"===h?(0,d.jsx)(u.$Q,{size:"small"}):""}),_]})]})}))},89827:function(e,t,n){"use strict";n.d(t,{u:function(){return d}});var r=n(29439),i=n(76841),a=n(81694),o=n.n(a),s=n(72791),l=n(46724),u={container:"Tooltip_container__KoBUE",regular:"Tooltip_regular__rrcIa",auto:"Tooltip_auto__AS-sv",targetContainer:"Tooltip_targetContainer__U9wwT"},c=n(80184);function d(e){var t=e.children,n=e.content,a=e.positions,d=void 0===a?["top","bottom","left","right"]:a,v=e.isEnabled,f=void 0===v||v,p=e.size,m=void 0===p?"regular":p,h=e.targetClassName,_=(0,s.useState)(!1),w=(0,r.Z)(_,2),g=w[0],k=w[1];(0,i.Z)()((0,s.useCallback)((function(){return k(!1)}),[k]));var x=(0,s.useCallback)((function(){return k(!0)}),[k]),b=(0,s.useCallback)((function(){return k(!1)}),[k]),I=(0,s.useCallback)((function(){return k((function(e){return!e}))}),[k]);return(0,s.useEffect)((function(){f||k(!1)}),[f]),(0,c.jsx)(l.J,{positions:d,arrowColor:"#161616",padding:5,isShowing:g,target:(0,c.jsx)("div",{className:o()(u.targetContainer,h),onMouseEnter:f?x:void 0,onMouseLeave:b,onTouchStart:f?I:void 0,children:t}),children:(0,c.jsx)("div",{className:o()(u.container,u[m]),children:n})})}},94970:function(e,t,n){"use strict";n.d(t,{Ko:function(){return p},MG:function(){return c},RM:function(){return m},Z3:function(){return d},ac:function(){return u},od:function(){return v},wP:function(){return f}});var r=n(93433),i=n(1413),a=n(68825),o=n(62738),s=n(15307);function l(e){var t=e.email,n=e.teamMembers,r=null===n||void 0===n?void 0:n.filter((function(e){var n,r,i;return"".concat(null===(n=e.user)||void 0===n?void 0:n.givenName," ").concat(null===(r=e.user)||void 0===r?void 0:r.familyName)===t||(null===(i=e.user)||void 0===i?void 0:i.email)===t}));return r&&r.length>0?r[0]:void 0}function u(e){var t,n=e.author,r=e.teamMembers;if((0,s.J)(n))return n;var i=l({email:n,teamMembers:r});return i?null===(t=i.user)||void 0===t?void 0:t.email:void 0}function c(e){var t,n,r=e.email,i=e.teamMembers,s=e.user,u=e.shouldHideEmailDomain,c=null===(t=l({email:r,teamMembers:i}))||void 0===t||null===(n=t.user)||void 0===n?void 0:n.givenName,d=void 0!==c?function(e,t){return e===(null===t||void 0===t?void 0:t.name)||e===(null===t||void 0===t?void 0:t.email)}(r,s)?(0,a.t)("report.review_status.you",{givenName:c}):c:(u?(0,o.v)({guestEmail:r}):r).toLowerCase();return{isTeammate:void 0!==c,displayName:d}}var d=function(e,t){var n,r,i,a,o=l({email:e,teamMembers:t});return o?null!==o&&void 0!==o&&null!==(n=o.user)&&void 0!==n&&n.familyName?"".concat(null===o||void 0===o||null===(r=o.user)||void 0===r?void 0:r.givenName," ").concat(null===o||void 0===o||null===(i=o.user)||void 0===i?void 0:i.familyName):"".concat(null===o||void 0===o||null===(a=o.user)||void 0===a?void 0:a.givenName):e},v=function(e,t,n){return[t,d(t,n)].includes(e)},f=function(e,t){var n=function(e){return e.completedAt||e.commentCount&&e.commentCount>0};return e.isTeammate&&!t.isTeammate?1:!e.isTeammate&&t.isTeammate?-1:!n(e)&&n(t)?1:n(e)&&!n(t)?-1:e.completedAt&&t.completedAt&&e.completedAt>t.completedAt?1:e.completedAt&&t.completedAt&&e.completedAt<t.completedAt?-1:0};function p(e){var t=e.actionRequests,n=e.teamMembers,a=e.user,o=e.shouldHideEmailDomain,s=void 0!==o&&o;return null===t?[]:(0,r.Z)(t).map((function(e){return function(e,t,n,r){return(0,i.Z)((0,i.Z)({},c({email:e.email,teamMembers:t,user:n,shouldHideEmailDomain:r})),{},{completedAt:e.hasOwnProperty("completedAt")?e.completedAt:void 0})}(e,n,a,s)})).sort(f).map((function(e){return e.displayName}))}function m(e){var t=e.actionRequests,n=e.teamMembers,r=e.user,i=(null===t||void 0===t?void 0:t.length)||0,a=p({actionRequests:t,teamMembers:n,user:r,shouldHideEmailDomain:!0}),o=function(e){if(e){var t=e.charAt(0).toUpperCase()+e.slice(1);return e.length>20?"".concat(t.substring(0,20),"..."):t}};if(1===i)return{name:o(a[0])};var s=i>2;return{names:a.map((function(e,t){return t!==i-1?o(e):""})).reduce((function(e,t){return"".concat(e).concat(t||s?", ".concat(t):"")})),name:o(a[i-1])}}},15307:function(e,t,n){"use strict";n.d(t,{J:function(){return i}});var r=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function i(e){return!!e.match(r)}},73388:function(e,t,n){"use strict";n.d(t,{u:function(){return i}});var r=n(763),i=function(e){var t=e.canUseFreeTier,n=e.fileSize,i=e.identity,a=e.previews,o=e.previewSet;return Boolean((0,r.isEmpty)(null===o||void 0===o?void 0:o.videoStatic)&&(["GUEST","UNKNOWN_GUEST","REVIEWER"].includes(i||"")||"OWNER"===i&&t&&n&&a&&a.video&&a.video.quota&&n>(null===a||void 0===a?void 0:a.video.quota)))}},43441:function(e,t,n){"use strict";n.d(t,{OU:function(){return i},jl:function(){return r},k6:function(){return a}});var r="REVIEW_COLLECTION_NOT_FOUND",i="REVIEW_NOT_FOUND";function a(e){var t=null;if(e&&e.length>0){if((t=e&&e.map((function(e){return e.message}))).find((function(e){return e===r})))return r;if(t.find((function(e){return e===i})))return i}return t?t[0].toString:null}},30592:function(e,t,n){"use strict";n.d(t,{C:function(){return r},V:function(){return s}});var r,i=n(93433),a=/\w(\s{2,})\w/,o=/^(\s+)|(\s+)$/;function s(e){var t=e.match(a),n=e.match(o),s=[];return t&&(s=[].concat((0,i.Z)(s),[r.InnerSpace])),n&&(s=[].concat((0,i.Z)(s),[r.OuterSpace])),s}!function(e){e[e.InnerSpace=0]="InnerSpace",e[e.OuterSpace=1]="OuterSpace"}(r||(r={}))},19623:function(e,t,n){"use strict";n.d(t,{P:function(){return Z}});var r=n(93433),i=n(29439),a=n(68825),o=n(72791),s=n(4942),l=n(7036),u=n(6832),c=n(39230),d=n(11087),v=n(18298),f=n(27029),p=n(31609),m=n(46724),h="EntitlementPopover_container__qsk3U",_="EntitlementPopover_badge__FcDql",w="EntitlementPopover_title__fK7cP",g="EntitlementPopover_description__vX3Gy",k="EntitlementPopover_image__5y9+r",x="EntitlementPopover_buttonContainer__2sDf8",b="EntitlementPopover_button__TA1eE",I=n.p+"static/media/portal.43b04baea1fb8f99f773.png",C=n.p+"static/media/review.d5256fd55e8c036ef414.png",y=n.p+"static/media/storage.1b9db5a2adc21879b32c.png",P=n(80184);function S(e){var t=e.target,n=e.title,r=e.type,a=e.description,S=e.showAsset,E=e.primaryLink,j=void 0===E?"":E,T=e.secondaryLink,N=void 0===T?"":T,R=e.onSecondaryClick,Z=e.secondaryLabel,D=void 0===Z?"entitlement_popover.secondary":Z,A=e.position,M=e.align,L=e.dismissOnScroll,O=(0,c.$G)().t,B={portal:I,review:C,storage:y},F=(0,f.Fn)().fireEvent,U=(0,o.useState)(!1),V=(0,i.Z)(U,2),W=V[0],H=V[1],G=(0,v.G)().isMinDesktop;return(0,P.jsx)(m.J,{target:t,positions:A||["right","left","bottom"],align:M,arrowColor:"white",arrowFollowTarget:!M,isShowing:W,setIsShowing:H,padding:8,boundaryInset:G?52:0,dismissOnScroll:L,children:(0,P.jsxs)("div",{className:h,children:[(0,P.jsx)("div",{className:_,children:(0,P.jsx)(l.C,{appearance:"yellow",size:"medium",children:O("entitlement_popover.upgrade")})}),(0,P.jsx)("div",{className:w,children:n}),(0,P.jsx)("div",{className:g,children:a}),S&&(0,P.jsx)("img",{src:B[r],alt:"asset",className:k}),(0,P.jsxs)("div",{className:x,children:[(0,P.jsx)(u.z,{as:d.rU,size:"small",className:b,to:j,target:"_blank",onClick:function(){var e;return F({eventName:f.B_.UPGRADE_FLOW_ENTERED,optionalEventProperties:(e={},(0,s.Z)(e,f.r8.DESTINATION,j),(0,s.Z)(e,f.r8.LOCATION,"Tooltip ".concat(S?(0,p.MI)(r):"Over Quota")),e),bypassTitleize:!0})},children:O("entitlement_popover.primary")}),R?(0,P.jsx)(u.z,{as:"button",appearance:"secondary",size:"small",className:b,onClick:function(){H(!1),R()},children:O(D)}):(0,P.jsx)(u.z,{as:d.rU,appearance:"secondary",size:"small",className:b,to:N,target:"_blank",children:O(D)})]})]})})}var E=n(66952),j={review:"https://help.wetransfer.com/hc/en-us/articles/12885330234260-Create-a-review-",portal:"https://help.wetransfer.com/hc/en-us/articles/9977244146196-Create-a-portal",storage:"https://help.wetransfer.com/hc/en-us/articles/10141787286676-Introduction-to-portals-and-reviews"},T={review:{title:"app.upgrade.entitlements_popover.reviews_title",description:"app.upgrade.entitlements_popover.reviews_description",tracking_url:"?trk=portals_tooltip_review",restrictionType:"canCreateReviews"},portal:{title:"app.upgrade.entitlements_popover.portals_title",description:"app.upgrade.entitlements_popover.portals_description",tracking_url:"?trk=portals_tooltip_portal",restrictionType:"canCreatePortals"},storage:{title:"app.upgrade.entitlements_popover.storage_title",description:"app.upgrade.entitlements_popover.storage_description",tracking_url:"?trk=portals_tooltip_storage",restrictionType:"canUploadAssets"}},N=function(e){return Boolean(e&&e.used&&e.quota&&e.used>e.quota)},R=n(38684);function Z(){var e=(0,o.useState)([]),t=(0,i.Z)(e,2),n=t[0],s=t[1],l=(0,R.T)(),u=l.canUseFreeTier,c=l.portals,d=l.reviews,v=l.restrictionStatus,f=l.storage;(0,o.useEffect)((function(){if("OVER_LIMIT"===v){var e=[];N(c)&&(e=[].concat((0,r.Z)(e),["".concat((0,a.t)("entitlement_popover.portals"))])),N(d)&&(e=[].concat((0,r.Z)(e),["".concat((0,a.t)("entitlement_popover.reviews"))])),N(f)&&(e=[].concat((0,r.Z)(e),["".concat((0,a.t)("entitlement_popover.storage"))])),s(e)}}),[c,v,d,f]);return{getEntitlementPopover:function(e){var t=e.target,r=e.type,i=e.secondaryLabel,o=e.position,s=e.align,l=e.dismissOnScroll,c=void 0===l||l,d=e.onSecondaryClick;return u?"OVER_LIMIT"===v?(0,P.jsx)(S,{target:t,title:(0,a.t)("entitlement_popover.title"),description:(0,a.t)("entitlement_popover.description",{limit:n}),type:r,position:o,align:s,dismissOnScroll:c,primaryLink:(0,E.Cp)("?trk=portals_tooltip_over_quota"),secondaryLink:j[r],secondaryLabel:i,onSecondaryClick:d}):(0,P.jsx)(S,{target:t,title:(0,a.t)(T[r].title),type:r,description:(0,a.t)(T[r].description),position:o,dismissOnScroll:c,primaryLink:(0,E.Cp)(T[r].tracking_url),secondaryLink:j[r],showAsset:!0}):null}}}},8004:function(e,t,n){"use strict";n.d(t,{o:function(){return f}});var r=n(88329),i=n(72791),a=n(59434),o=n(28301),s=n(64161),l=n(52662),u=n(85885),c=n(41865),d=n.n(c);var v=!1;function f(){var e=(0,a.v9)(u.HF),t=(0,a.v9)(l.BX),n=(0,a.v9)(s.v9);(0,i.useEffect)((function(){v||(d()(o.D.intercom.appId),window.Intercom("boot",{app_id:o.D.intercom.appId}),v=!0)}),[]);var c=(0,i.useCallback)((function(){v?window.Intercom("shutdown"):document.cookie.split(";").forEach((function(e){var t=e.trim().split("=")[0];t.startsWith("intercom-")&&r.Z.remove(t)}))}),[]),f=(0,i.useCallback)((function(){v&&window.Intercom("update")}),[]),p=(0,i.useCallback)((function(e){var t=e.identity;v&&window.Intercom("update",{identity:null===t||void 0===t?void 0:t.toLowerCase()})}),[]),m=(0,i.useCallback)((function(t){var n,r,i=t.portals;v&&window.Intercom("update",{team_portal_count:null!==(n=null===i||void 0===i?void 0:i.length)&&void 0!==n?n:0,user_portal_count:null!==(r=null===i||void 0===i?void 0:i.filter((function(t){return t.creatorId===(null===e||void 0===e?void 0:e.sub)})).length)&&void 0!==r?r:0})}),[null===e||void 0===e?void 0:e.sub]),h=(0,i.useCallback)((function(e){v&&window.Intercom("trackEvent","user_create_review_tapped",e)}),[]);return(0,i.useEffect)((function(){v&&window.Intercom("update",{email:null===e||void 0===e?void 0:e.email,name:null===e||void 0===e?void 0:e.name,user_id:null===e||void 0===e?void 0:e.sub,user_role:(null===t||void 0===t?void 0:t.creatorId)===(null===e||void 0===e?void 0:e.sub)?"admin":"member",team_name:null===t||void 0===t?void 0:t.name,team_member_count:null===t||void 0===t?void 0:t.membersCount,team_tier:n})}),[null===t||void 0===t?void 0:t.creatorId,null===t||void 0===t?void 0:t.membersCount,null===t||void 0===t?void 0:t.name,null===e||void 0===e?void 0:e.email,null===e||void 0===e?void 0:e.name,null===e||void 0===e?void 0:e.sub,n]),{shutdown:c,update:f,updateIdentityData:p,updatePortalData:m,trackCreateReviewTapped:h}}},38347:function(e,t,n){"use strict";n.d(t,{oC:function(){return j},Z1:function(){return _},x7:function(){return w}});var r,i=n(72791),a=n(59434),o=n(29845),s=n(11538),l=n(7533),u=n(28e3),c=n(62758),d=n(21800),v=n(64161),f=n(52662),p=n(85885),m=n(87506),h=n(763),_=(0,i.createContext)({executeTrackMoveReview:h.noop,executeTrackDeleteReview:h.noop,isFetchingReviewAnalyticsData:!1}),w=function(){return(0,i.useContext)(_)},g=n(1413),k=n(29439),x=n(30168),b=n(45984),I=n(45726),C=n(9911),y=n(28447),P=n(87843),S=(0,b.Ps)(r||(r=(0,x.Z)(["\n  query ReviewItemsAndCommentsForReviewQuery($reviewId: String!) {\n    review(id: $reviewId) {\n      publicId\n      items {\n        nodes {\n          publicId\n          reviewId\n          name\n          itemType\n          note\n          comments {\n            totalCount\n            nodes {\n              publicId\n            }\n          }\n        }\n      }\n    }\n  }\n"])));var E=n(80184);function j(e){var t,n=e.portalId,r=e.reviewId,h=e.children,w=(0,u.B)({portalId:n,reviewId:r}).guestTokenId,x=(0,l.$)({reviewId:r,guestTokenId:w}),b=x.review,j=x.isFetchingReview,T=(0,s.B)(r),N=T.actionRequests,R=T.isFetchingReviewActionRequests,Z=(0,o.g)({portalId:n,guestTokenId:w}),D=Z.portal,A=Z.isFetchingPortal,M=(0,a.v9)(f.BX),L=(0,a.v9)(p.HF),O=(0,i.useMemo)(c.q,[]),B=(0,a.v9)((function(e){return O(e,r)})),F=(0,a.v9)(v.v9),U=null!==(t=N.filter((function(e){return"ASSIGNED"===e.engagementType})).length)&&void 0!==t?t:0,V=function(e){var t=e.reviewId,n=(0,I.aM)({query:S,variables:{reviewId:t},pause:!t}),r=(0,k.Z)(n,1)[0],a=r.data,o=r.fetching,s=(0,C.T)();return(0,i.useEffect)((function(){if(null!==a&&void 0!==a&&a.review){var e=a.review.items.nodes,t=e.map((function(e){var t=e.comments,n=e.publicId,r=e.reviewId;return(0,g.Z)((0,g.Z)({},t),{},{publicId:n,reviewId:r})}));t.length>0&&s((0,y.h0)(t)),s((0,P.Yw)(e))}}),[null===a||void 0===a?void 0:a.review,s]),{fetching:o}}({reviewId:r}),W=V.fetching,H=(0,i.useMemo)(d.yh,[]),G=(0,a.v9)((function(e){return H(e,r)})),z=(0,i.useCallback)((function(e){var t=e.hasParent,n=e.targetPortal;b&&M&&(0,m.ab)({review:b,reviewItems:G,numberOfAssignedReviewers:U,portal:void 0!==n?n:D,team:M,userId:(null===L||void 0===L?void 0:L.sub)||"",comments:B,tier:F,hasParent:t})}),[B,U,D,b,G,M,F,null===L||void 0===L?void 0:L.sub]),q=(0,i.useCallback)((function(){var e,t,n,r,i;b&&M&&"DRAFT"!==b.status&&(0,m.PO)({review:b,reviewItems:G,numberOfAssignedReviewers:U,portal:b.reviewCollectionId?{publicId:b.reviewCollectionId,title:null!==(e=null===(t=b.reviewCollection)||void 0===t?void 0:t.title)&&void 0!==e?e:"",logoUrl:null!==(n=null===(r=b.reviewCollection)||void 0===r?void 0:r.logoUrl)&&void 0!==n?n:"",passwordProtected:!(null===(i=b.reviewCollection)||void 0===i||!i.passwordProtected)}:null,team:M,userId:(null===L||void 0===L?void 0:L.sub)||"",comments:B,tier:F})}),[B,U,b,G,M,F,null===L||void 0===L?void 0:L.sub]),$=j||R||A||W;return(0,E.jsx)(_.Provider,{value:{executeTrackMoveReview:z,executeTrackDeleteReview:q,isFetchingReviewAnalyticsData:$},children:h})}},15263:function(e,t,n){"use strict";n.d(t,{n:function(){return z}});var r=n(4942),i=n(29439),a=n(61910),o=n(76841),s=n(763),l=n(72791),u=n(39230),c=n(24566),d=n(19055),v=n(90222),f=n(65310),p=n(77176),m=n(18298),h=n(27029),_=n(1413),w=n(45987),g=n(81694),k=n.n(g),x="HelpButton_toggleButton__Uq9-X",b="HelpButton_helpIcon__aJAiJ",I="HelpButton_attentionMessage__p757O",C="HelpButton_show__0eUXd",y=n(80184),P=["children","placeAttention","onClick"],S=(0,l.forwardRef)((function(e,t){e.children;var n=e.placeAttention,r=e.onClick,o=(0,w.Z)(e,P),s=(0,u.$G)().t,v=(0,l.useState)(40),f=(0,i.Z)(v,2),p=f[0],m=f[1],h=(0,l.useState)(!1),g=(0,i.Z)(h,2),S=g[0],E=g[1],j=(0,l.useRef)(null),T=(0,l.useRef)(null),N=(0,a.uF)().isExpanded,R=(0,l.useMemo)((function(){var e;return(null===(e=T.current)||void 0===e?void 0:e.offsetWidth)||40}),[T.current]),Z=(0,l.useMemo)((function(){var e,t;return T&&j&&T.current&&j.current?Number(null===(e=T.current)||void 0===e?void 0:e.offsetWidth)+Number(null===(t=j.current)||void 0===t?void 0:t.offsetWidth)+8:R}),[T,T.current,j.current,j,R]);(0,l.useEffect)((function(){m(R)}),[R,m]),(0,l.useEffect)((function(){n&&(setTimeout((function(){return m(Z)}),3e3),setTimeout((function(){return m(R)}),6e3))}),[n,m,Z,R]);var D=(0,l.useMemo)((function(){return Boolean(p>R&&!S)}),[p,R,S]),A=(0,l.useCallback)((function(){E(!0),r()}),[r,E]);return(0,y.jsxs)(c.YP,(0,_.Z)((0,_.Z)({},o),{},{appearance:"secondary",className:x,ref:t,size:"small",type:"button","data-test-id":"helpDesk.toggleButton",onClick:A,style:{width:D?p:R},children:[(0,y.jsx)("span",{ref:j,className:k()(I,D&&C),children:s("helpDesk.attention_message")}),(0,y.jsx)("span",{className:b,ref:T,children:N?(0,y.jsx)(d.x8,{size:"regular"}):(0,y.jsx)(d.rv,{size:"extra-large"})})]}))})),E="HelpDesk_popoverContainer__TUOh8",j="HelpDesk_searchInput__bEKP9",T="HelpDesk_searchInputIcon__W+f2F",N="HelpDesk_content__w6Uu3",R="HelpDesk_title__XAwFe",Z="HelpDesk_articlesList__CRAAd",D="HelpDesk_articlesListTitle__v89Sh",A="HelpDesk_linkIcon__4obi0",M="HelpDesk_articleLink__JNv+F",L="HelpDesk_button__nywmA",O="HelpDesk_contactLinks__w84ou",B="https://wetransfer.zendesk.com/hc/en-us",F="https://help.wetransfer.com/hc/en-us",U={HOME:[{href:"".concat(B,"/articles/10141787286676-Introduction-to-portals-and-reviews"),textContent:"helpDesk.article_intro"},{href:"".concat(B,"/articles/9977244146196-Create-a-portal"),textContent:"helpDesk.article_portal"},{href:"".concat(F,"/articles/12885330234260-Create-a-review"),textContent:"helpDesk.article_review"}],PORTAL:[{href:"".concat(B,"/articles/9977244146196-Create-a-portal"),textContent:"helpDesk.article_create_portal"},{href:"".concat(B,"/articles/4409314746516-Customize-a-portal-with-your-brand"),textContent:"helpDesk.article_customize_portal"},{href:"".concat(F,"/articles/10876221058196"),textContent:"helpDesk.article_passphrase"},{href:"".concat(B,"/articles/9976131501588-Share-your-portal"),textContent:"helpDesk.article_share_portal"},{href:"".concat(F,"/articles/9916284299284-Delete-a-portal"),textContent:"helpDesk.article_delete_portal"}],EDITOR:[{href:"".concat(F,"/articles/12885330234260-Create-a-review"),textContent:"helpDesk.article_create_review"},{href:"".concat(B,"/articles/9100677492628-Set-a-due-date-for-a-review"),textContent:"helpDesk.article_due_date"},{href:"".concat(B,"/articles/8997809870484-Enable-or-disable-downloads"),textContent:"helpDesk.article_download"}]},V={href:"".concat(B,"/requests/new?sp=portals"),textContent:"helpDesk.send_message"},W="https://wetransfer1.typeform.com/to/LNnf1q9R",H="helpDesk.improve",G="".concat(B,"/search"),z=function(e){var t=e.placeAttention,n=void 0!==t&&t,r=e.tier;return(0,y.jsx)(f.v2,{"data-test-id":"helpDesk.container",children:(0,y.jsx)(q,{tier:r,placeAttention:n})})};function q(e){var t=e.tier,n=e.placeAttention,_=(0,u.$G)().t,w=(0,l.useState)(),g=(0,i.Z)(w,2),k=g[0],x=g[1],b=(0,m.G)().isMinTablet,I=(0,l.useRef)(null),C=(0,l.useRef)(null),P=(0,o.Z)(),B=(0,a.uF)().isExpanded,F=(0,h.Fn)().fireEvent,z=window.location.pathname,q=z.includes("/reviews/"),$=z.includes("/portals/"),X=q?"EDITOR":$?"PORTAL":"HOME",Y=U[X],K=(0,l.useCallback)((function(){var e,t;C&&null!==(e=C.current)&&void 0!==e&&e.getAttribute("aria-expanded")&&(null===(t=C.current)||void 0===t||t.focus())}),[C]),J=(0,l.useCallback)((function(e){"Escape"===e.key&&K()}),[K]);(0,l.useEffect)((function(){return document.addEventListener("keydown",J,!1),function(){document.removeEventListener("keydown",J,!1)}}),[]),P(K);var Q=(0,l.useCallback)((function(e){var n;F({eventName:h.B_.HELP_ACCESSED,optionalEventProperties:(n={},(0,r.Z)(n,h.r8.LOCATION,(0,s.capitalize)(X.toLowerCase())),(0,r.Z)(n,h.r8.DESTINATION,e),n)}),(0,h.rC)({destination:e,location:X,tier:t})}),[F,X,t]),ee=(0,l.useCallback)((function(e){var t=e.url,n=e.search,r=n?"".concat(t).concat(n):t;Q(r),window.open(r,"_blank"),K()}),[K,Q]),te=(0,l.useCallback)((function(e){e.preventDefault(),ee({url:G,search:"?commit=Search&query=".concat(k)}),x("")}),[ee,k,x]);return b?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(f.j2,{as:S,"data-test-id":"editReview.security_preferences",children:null,placeAttention:n,onClick:B?function(){var e;return null===I||void 0===I||null===(e=I.current)||void 0===e?void 0:e.focus()}:function(){var e;return null===C||void 0===C||null===(e=C.current)||void 0===e?void 0:e.focus()},ref:C}),(0,y.jsx)(f.YI,{align:"top",className:E,offsetYAbove:16,children:(0,y.jsxs)("section",{className:N,children:[(0,y.jsx)("h1",{className:R,children:_("helpDesk.help")}),(0,y.jsx)("form",{"data-test-id":"helpDesk.searchForm",onSubmit:te,children:(0,y.jsx)(p.o,{ref:I,onChange:function(e){return x(e.target.value)},inputClassName:j,"data-test-id":"helpDesk.searchField",placeholder:_("helpDesk.search"),prefix:(0,y.jsx)(d.HN,{size:"small",className:T}),value:k})}),Y&&(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{className:D,children:_("helpDesk.suggested_articles")}),(0,y.jsx)("div",{className:Z,children:Y.map((function(e,t){return(0,y.jsxs)(f.Uk,{href:"#",tabIndex:0,className:M,onSelect:function(){return ee({url:e.href})},children:[(0,y.jsx)("span",{children:_(e.textContent)}),(0,y.jsx)(d.ol,{className:A,size:"small"})]},e.textContent.trim().replace(/\s+/g,"-").toLowerCase())}))})]}),(0,y.jsxs)("div",{className:O,children:[(0,y.jsx)(c.LE,{as:f.Uk,appearance:"secondary",className:L,onSelect:function(){return ee({url:W,search:"#t=".concat(t)})},type:"button",href:"#",tabIndex:0,children:(0,y.jsx)(v.k,{icon:d.it,space:"small",size:"large",children:_(H)})}),(0,y.jsx)(c.LE,{as:f.Uk,appearance:"secondary",className:L,onSelect:function(){return ee({url:V.href})},type:"button",tabIndex:0,href:"#",children:(0,y.jsx)(v.k,{icon:d.cV,space:"small",size:"large",children:_(V.textContent)})})]})]})})]}):null}},42592:function(e,t,n){"use strict";n.d(t,{Bb:function(){return c},Wi:function(){return u},d8:function(){return o},hQ:function(){return s},hj:function(){return d},lk:function(){return l},n_:function(){return f},t1:function(){return v},w5:function(){return p}});function r(e){var t=e.publicId;return"".concat("reviewItemUpload",":").concat(t)}function i(e){var t=e.publicId;return"".concat("reviewItemPreview",":").concat(t)}function a(e){var t=e.reviewId;return"".concat("reviewRender",":").concat(t)}function o(e){var t=e.publicId;performance.mark(r({publicId:t}),{detail:{publicId:t}})}function s(e){var t=e.reviewId;performance.mark(a({reviewId:t}))}function l(e){var t=e.publicId;performance.mark(i({publicId:t}))}function u(e){var t=r({publicId:e.publicId});performance.getEntriesByName(t).length>0&&performance.measure(t,t)}function c(e){var t=i({publicId:e.publicId});performance.getEntriesByName(t).length>0&&performance.measure(t,t)}function d(e){var t=a({reviewId:e.reviewId});performance.getEntriesByName(t).length>0&&performance.measure(t,t)}function v(e){var t=e.publicId,n=performance.getEntriesByName(r({publicId:t}),"measure");return n.forEach((function(e){var t=e.name;performance.clearMarks(t),performance.clearMeasures(t)})),n}function f(e){var t=e.publicId,n=performance.getEntriesByName(i({publicId:t}),"measure");return n.forEach((function(e){var t=e.name;performance.clearMarks(t),performance.clearMeasures(t)})),n}function p(e){var t=e.reviewId,n=performance.getEntriesByName(a({reviewId:t}),"measure");return n.forEach((function(e){var t=e.name;performance.clearMarks(t),performance.clearMeasures(t)})),n}},29845:function(e,t,n){"use strict";n.d(t,{g:function(){return p}});var r,i,a=n(29439),o=n(30168),s=n(72791),l=n(57689),u=n(45984),c=n(45726),d=n(43441),v=(0,u.Ps)(r||(r=(0,o.Z)(["\n  query ReviewQueryByPortal($portalId: String!, $token: String!) {\n    reviewCollection(id: $portalId) {\n      reviews(orderBy: UPDATED_AT) {\n        reviewData: nodes {\n          publicId\n          title\n          description\n          layoutType\n          actionType\n          reviewCollectionId\n          dueDate\n          createdAt\n          updatedAt\n          actionRequestType\n          commentsEnabled\n          downloadEnabled\n          teamId\n          password\n          passwordProtected\n          stats(token: $token) {\n            viewCount\n            totalActionCount\n            completedActionCount\n            totalCommentCount\n            totalApprovedCount\n            totalFavoritedCount\n          }\n          actionRequest(token: $token) {\n            actionType\n            completedAt\n            completionCount\n            createdAt\n            email\n            reviewId\n            updatedAt\n          }\n          actionRequests {\n            completedAt\n          }\n          itemCount\n          totalSize\n        }\n      }\n    }\n  }\n"])));var f=(0,u.Ps)(i||(i=(0,o.Z)(["\n  query PortalQueryByPortalId($portalId: String!) {\n    portal: reviewCollection(id: $portalId) {\n      publicId\n      teamId\n      title\n      logoUrl\n      color\n      password\n      passwordProtected\n      shortUrl\n      description\n      createdAt\n      updatedAt\n    }\n  }\n"])));function p(e){var t,n=e.portalId,r=e.guestTokenId,i=(0,c.aM)({query:f,variables:{portalId:n},pause:!n}),o=(0,a.Z)(i,2),u=o[0],p=u.data,m=u.fetching,h=u.error,_=o[1],w=function(e){var t,n,r,i,o=e.portalId,l=e.guestTokenId,u=(0,s.useMemo)((function(){return{additionalTypenames:["Review"]}}),[]),d=(0,c.aM)({query:v,variables:{portalId:o,token:l},context:u,pause:!o}),f=(0,a.Z)(d,2),p=f[0],m=p.data,h=p.fetching,_=f[1],w=null!==(t=null===m||void 0===m||null===(n=m.reviewCollection)||void 0===n||null===(r=n.reviews)||void 0===r?void 0:r.reviewData.map((function(e){return e})))&&void 0!==t?t:null,g=null!==(i=null===w||void 0===w?void 0:w.map((function(e){return e.actionRequest})).filter((function(e){return!!e})))&&void 0!==i?i:null;return{reviews:w,actionRequests:g,isFetchingReviews:h,refreshReviews:function(){_({requestPolicy:"network-only"})}}}({portalId:n,guestTokenId:r}),g=w.reviews,k=w.actionRequests,x=w.isFetchingReviews,b=w.refreshReviews,I=(0,l.s0)(),C=(0,d.k6)(null===h||void 0===h?void 0:h.graphQLErrors);if(C&&C===d.jl)I("/not_found",{replace:!0});var y=null!==(t=null===p||void 0===p?void 0:p.portal)&&void 0!==t?t:null,P=(0,s.useMemo)((function(){return null===g||void 0===g?void 0:g.some((function(e){return e.passwordProtected&&!!e.password}))}),[g]);return{portal:y,shareUrl:function(){var e;if(null!==p&&void 0!==p&&null!==(e=p.portal)&&void 0!==e&&e.shortUrl)return p.portal.shortUrl;var t=window.location.origin.split("//").pop();return"".concat(t,"/portals/").concat(n)}(),reviews:g,actionRequests:k,isFetchingPortal:m||x,error:C,refreshPortalReviews:function(){b()},refreshPortal:function(){_({requestPolicy:"network-only"})},areAnyReviewsProtected:P}}},12237:function(e,t,n){"use strict";n.d(t,{_A:function(){return l},qJ:function(){return s}});var r=n(29439),i=n(72791),a=n(80184),o={isAssetReadyToDisplay:!1,setIsAssetReadyToDisplay:function(){}},s=(0,i.createContext)(o),l=function(e){var t=e.children,n=(0,i.useState)(!1),o=(0,r.Z)(n,2),l=o[0],u=o[1],c=(0,i.useMemo)((function(){return{isAssetReadyToDisplay:l,setIsAssetReadyToDisplay:u}}),[l,u]);return(0,a.jsx)(s.Provider,{value:c,children:t})}},28661:function(e,t,n){"use strict";n.d(t,{s:function(){return p},n:function(){return O}});var r=n(1413),i=n(45987),a=n(39230),o=n(24566),s=n(99426),l="DeleteModal_container__tKWQZ",u="DeleteModal_title__8-W1m",c="DeleteModal_description__6loiy",d="DeleteModal_button__eLBVY",v=n(80184),f=["numberOfComments","onConfirm","onDismiss"];function p(e){var t=e.numberOfComments,n=e.onConfirm,p=void 0===n?function(){}:n,m=e.onDismiss,h=void 0===m?function(){}:m,_=(0,i.Z)(e,f),w=(0,a.$G)().t;return(0,v.jsx)(s.u,(0,r.Z)((0,r.Z)({},_),{},{ariaLabel:w("editReview.delete_item.title"),onDismiss:h,children:(0,v.jsxs)("div",{className:l,children:[(0,v.jsx)("h2",{className:u,children:w("editReview.delete_item.title")}),(0,v.jsx)("p",{className:c,children:w("editReview.delete_item.explainer",{count:t})}),(0,v.jsx)(o.LE,{appearance:"destructive",onClick:p,"data-test-id":"editReview.delete_item.confirm_delete",className:d,children:w("editReview.delete_item.confirm_delete")}),(0,v.jsx)(o.LE,{appearance:"secondary",onClick:h,"data-test-id":"editReview.delete_item.cancel",className:d,children:w("editReview.delete_item.cancel")})]})}))}var m=n(4942),h=n(15861),_=n(64687),w=n.n(_),g=n(72791),k=n(59434),x=n(57689),b=n(26342);var I,C=n(38684),y=n(27029),P=n(38347),S=n(16409),E=n(29439),j=n(30168),T=n(45984),N=n(45726),R=(0,T.Ps)(I||(I=(0,j.Z)(["\n  mutation DeleteReviewMutation($id: String!) {\n    deleteReview(id: $id) {\n      review {\n        publicId\n      }\n    }\n  }\n"])));var Z=n(84096),D=n(22327),A=n(52662),M=n(85885),L=["onDismiss","onConfirm","title","reviewId","portalId","forceNavigation"];function O(e){var t=e.onDismiss,n=void 0===t?function(){}:t,f=e.onConfirm,p=void 0===f?function(){}:f,_=e.title,I=e.reviewId,j=e.portalId,T=e.forceNavigation,O=(0,i.Z)(e,L),B=(0,a.$G)().t,F=(0,x.TH)(),U=(0,x.s0)(),V=(0,P.x7)(),W=V.executeTrackDeleteReview,H=V.isFetchingReviewAnalyticsData,G=(0,Z.j)().dismissToast,z=(0,g.useContext)(S.l).progressToastId,q=function(e){var t=(0,N.Db)(R),n=(0,E.Z)(t,2),r=n[0].fetching,i=n[1],a=function(){var t=(0,h.Z)(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i({id:e},{additionalTypenames:["ReviewConnection"]}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{isDeletingReview:r,deleteReview:a}}(I),$=q.deleteReview,X=(0,y.Fn)(),Y=X.fireEvent,K=X.fireErrorEvent,J=X.fireGroupIdentifySet,Q=X.fireUserAdd,ee=(0,k.v9)(M.HF),te=(0,k.v9)(A.BX),ne=(0,C.T)().canUseFreeTier,re=(0,D.v)(),ie=re.entitlement,ae=re.updateEntitlement,oe=y.sR.HOME;F.pathname.includes("portals")&&(oe=y.sR.PORTAL),F.pathname.includes("reviews")&&(oe=y.sR.REVIEW),(F.pathname.includes("edit")||F.pathname.includes("new"))&&(oe=y.sR.EDITOR);var se=(0,g.useCallback)((0,h.Z)(w().mark((function e(){var t,n,r,i;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$();case 2:e.sent.error?((0,b.t6)({message:B("error.delete_review_error"),type:"error"}),K("error.delete_review_error")):(Y({eventName:y.B_.REVIEW_DELETED,optionalEventProperties:(0,m.Z)({},y.r8.LOCATION,oe),groups:(0,m.Z)({},y.YT.REVIEW,I),additionalGroupProperties:j?(t={},(0,m.Z)(t,y.YT.PORTAL,j),(0,m.Z)(t,y.YT.WORKSPACE,null===te||void 0===te?void 0:te.id),t):void 0}),J({groupType:y.YT.REVIEW,groupName:I,propertyValues:(0,m.Z)({},y.vb.STATUS,"Deleted")}),null!==ee&&void 0!==ee&&ee.sub&&Q(ee.sub,(0,m.Z)({},y.OE.NUM_LIVE_REVIEWS,-1)),W(),n=_&&(o=80,(a=_).length>=o?"".concat(a.substr(0,o-"...".length)," ").concat("..."):a)||B("review.untitled"),(0,b.t6)({message:B("review.delete.delete_confirmed",{title:n}),type:"info"}),p(),T&&(z&&G(z),r=j?"/portals/".concat(j,"/"):"/",U(r,{replace:!0,state:{refreshEntitlements:!0}})),ne&&(i=function(){var e=(0,h.Z)(w().mark((function e(){var t,n;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie({query:"storage,reviews"});case 2:null!==(n=e.sent)&&void 0!==n&&null!==(t=n.entitlements)&&void 0!==t&&t.reviews&&ae(["reviews","storage"],[n.entitlements.reviews,n.entitlements.storage]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i()));case 4:case"end":return e.stop()}var a,o}),e)}))),[ne,null===te||void 0===te?void 0:te.id,$,G,ie,B,K,Y,J,Q,T,oe,W,U,p,j,z,I,_,ae,null===ee||void 0===ee?void 0:ee.sub]);return(0,v.jsx)(P.oC,{portalId:j,reviewId:I,children:(0,v.jsx)(s.u,(0,r.Z)((0,r.Z)({},O),{},{ariaLabel:B("review.delete.delete_title",{title:_}),onDismiss:n,children:(0,v.jsxs)("div",{className:l,children:[(0,v.jsx)("h2",{className:u,"data-test-id":"review.delete.delete_title",children:_?B("review.delete.delete_title",{title:_}):B("review.delete.delete_no_title")}),(0,v.jsx)("p",{className:c,children:B("review.delete.delete_description")}),(0,v.jsx)(o.LE,{className:d,appearance:"destructive","data-test-id":"manage.review.delete.delete",onClick:se,disabled:H,children:B("review.delete.delete")}),(0,v.jsx)(o.LE,{appearance:"secondary",onClick:n,className:d,children:B("review.delete.cancel")})]})}))})}},89032:function(e,t,n){"use strict";n.d(t,{G:function(){return Ge}});var r,i=n(1413),a=n(93433),o=n(29439),s=n(45987),l=n(72791),u=n(39230),c=n(19055),d=n(99426),v=n(4942),f=n(81694),p=n.n(f),m=n(24566),h=n(90222),_="SetPassphraseButton_root__4iNkP",w="SetPassphraseButton_button__vs9JE",g="SetPassphraseButton_hasPassphrase__yZzqP",k=n(80184),x=function(e){var t=e.hasPassphrase,n=e.onClick,r=(0,u.$G)().t,i=t?c.jU:c.jW;return(0,k.jsx)("div",{className:_,children:(0,k.jsx)(m.LE,{appearance:"neutral",size:"small",type:"button",className:p()(w,(0,v.Z)({},g,t)),onClick:n,"data-test-id":"setPassphraseButton",children:(0,k.jsx)(h.k,{icon:i,space:"small",children:r(t?"review.share.change_passphrase":"review.share.set_passphrase")})})})},b=n(15861),I=n(64687),C=n.n(I),y=n(59434),P=n(42249),S=n(77176),E=n(26342),j=n(30592),T=n(38684),N=n(33392),R=n(27029),Z=n(29845),D=n(11538),A=n(30168),M=n(45984),L=n(45726),O=(0,M.Ps)(r||(r=(0,A.Z)(["\n  mutation UpdateReviewPassword($id: String!, $password: String!) {\n    updateReviewPassword(id: $id, password: $password) {\n      errors\n    }\n  }\n"])));var B,F=n(62758),U=n(64161),V=n(52662),W=n(85885),H="SetPassphraseModal_container__S0P6r",G="SetPassphraseModal_icon__ic0cr",z="SetPassphraseModal_title__7qs6J",q="SetPassphraseModal_description__P1+kQ",$="SetPassphraseModal_formContainer__31fwR",X="SetPassphraseModal_submit__7zx8R",Y=function(e,t){return(0,E.t6)({message:(0,k.jsx)(P.s,{showUnlockIcon:t,children:e}),containerId:E.qP.ModalToasts})},K=function(e){var t=e.passphrase,n=e.reviewId,r=e.portalId,i=e.guestTokenId,a=e.review,s=e.reviewItems,f=e.onDismiss,p=e.onSetSuccess,h=(0,u.$G)().t,_=(0,T.T)().canUseFreeTier,w=(0,R.Fn)(),g=w.fireEvent,x=w.fireErrorEvent,I=w.fireGroupIdentifySet,P=(0,l.useState)(t),A=(0,o.Z)(P,2),M=A[0],B=A[1],K=(0,l.useContext)(N.v).restrictActionWithModal,J=function(){var e,t=(0,L.Db)(O),n=(0,o.Z)(t,2),r=n[0],i=r.data,a=r.fetching,s=n[1],u=(0,l.useCallback)((function(e){return s(e)}),[s]);return{errors:null===i||void 0===i||null===(e=i.updateReviewPassphrase)||void 0===e?void 0:e.errors,isUpdatingReview:a,updateReviewPassphrase:u}}(),Q=J.updateReviewPassphrase,ee=(0,l.useState)(),te=(0,o.Z)(ee,2),ne=te[0],re=te[1],ie=(0,l.useState)(),ae=(0,o.Z)(ie,2),oe=ae[0],se=ae[1],le=(0,l.useMemo)(F.q,[]),ue=(0,y.v9)((function(e){return le(e,n||"")})),ce=(0,y.v9)(V.BX),de=(0,y.v9)(W.HF),ve=(0,y.v9)(U.v9),fe=(0,D.B)(n||"").totalAssignedCount,pe=(0,Z.g)({portalId:r,guestTokenId:i}).portal,me=t===M,he=function(){var e=(0,b.Z)(C().mark((function e(){var r,i,o,l,u;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(t!==M){e.next=4;break}return e.abrupt("return");case 4:if(!(r=(0,j.V)(M)).includes(j.C.InnerSpace)||!r.includes(j.C.OuterSpace)){e.next=9;break}return re("error"),se(h("error.passphrase_space_error")),e.abrupt("return");case 9:if(!r.includes(j.C.InnerSpace)){e.next=13;break}return re("error"),se(h("error.passphrase_inner_space_error")),e.abrupt("return");case 13:if(!r.includes(j.C.OuterSpace)){e.next=17;break}return re("error"),se(h("error.passphrase_outer_space_error")),e.abrupt("return");case 17:return re(void 0),se(void 0),e.prev=19,e.next=22,Q({id:n,password:M});case 22:if(!(l=e.sent).error){e.next=26;break}return(0,E.t6)({message:h("review.passphrase_notification.failed"),containerId:E.qP.ModalToasts,type:"error"}),e.abrupt("return");case 26:if(null===(u=null===(i=l.data)||void 0===i||null===(o=i.updateReviewPassphrase)||void 0===o?void 0:o.errors)||void 0===u||!u.includes("REVIEW_PASSPHRASE_INNER_SPACE")||null===u||void 0===u||!u.includes("REVIEW_PASSPHRASE_OUTER_SPACE")){e.next=31;break}return re("error"),se(h("error.passphrase_space_error")),e.abrupt("return");case 31:if(null===u||void 0===u||!u.includes("REVIEW_PASSPHRASE_INNER_SPACE")){e.next=35;break}return re("error"),se(h("error.passphrase_inner_space_error")),e.abrupt("return");case 35:if(null===u||void 0===u||!u.includes("REVIEW_PASSPHRASE_OUTER_SPACE")){e.next=39;break}return re("error"),se(h("error.passphrase_outer_space_error")),e.abrupt("return");case 39:!t&&M?Y(h("review.passphrase_notification.set")):t&&!M?Y(h("review.passphrase_notification.deleted"),!0):M!==t&&Y(h("review.passphrase_notification.changed")),I({groupType:R.YT.REVIEW,groupName:n,propertyValues:(0,v.Z)({},R.vb.PASSPHRASE_ENABLED,!!M)}),g({eventName:R.B_.REVIEW_PASSPHRASE_UPDATED,optionalEventProperties:(0,v.Z)({},R.r8.PASSPHRASE_ENABLED,!!M),groups:(0,v.Z)({},R.YT.REVIEW,null===a||void 0===a?void 0:a.publicId)}),a&&ce&&(0,R.gk)({review:a,reviewItems:s,numberOfAssignedReviewers:fe,portal:pe,team:ce,userId:(null===de||void 0===de?void 0:de.sub)||"",comments:ue,tier:ve,passwordSet:!!M}),p(),e.next=50;break;case 46:e.prev=46,e.t0=e.catch(19),(0,E.t6)({message:h("review.passphrase_notification.failed"),containerId:E.qP.ModalToasts,type:"error"}),x("review.passphrase_notification.failed");case 50:case"end":return e.stop()}}),e,null,[[19,46]])})));return function(){return e.apply(this,arguments)}}();return(0,k.jsx)(d.u,{ariaLabel:h("review.set_passphrase.title"),onDismiss:f,isOpen:!0,size:"small",children:(0,k.jsxs)("div",{className:H,children:[(0,k.jsx)(m.hU,{size:"regular",appearance:"default",onClick:f,className:G,"data-test-id":"setPassphraseModal.closeButton",children:(0,k.jsx)(c.x8,{size:"large"})}),(0,k.jsx)("h3",{className:z,children:h("review.set_passphrase.title")}),(0,k.jsx)("p",{className:q,children:h("review.set_passphrase.description")}),(0,k.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),_)return he();K({restrictionType:"canUpdateReviews",analyticsEventName:"set_passphrase",onAccessGiven:he})},className:$,children:[(0,k.jsx)(S.o,{placeholder:h("review.set_passphrase.input_placeholder"),value:M,onChange:function(e){return B(e.target.value)},status:ne,hint:oe}),(0,k.jsx)(m.LE,{className:X,"data-test-id":"setPassphraseModal.submit",disabled:me,children:h("review.set_passphrase.submit")})]})]})})},J=n(89827),Q=n(94970),ee=n(7533),te=n(28e3),ne=n(63791),re=n(73562),ie="CollapsibleModalItem_contentItem__TU3Jy",ae="CollapsibleModalItem_hiddenMockItem__j1osE",oe="CollapsibleModalItem_contentHeader__3Auah",se="CollapsibleModalItem_title__MKOrk",le="CollapsibleModalItem_subTitle__AbtFj",ue="CollapsibleModalItem_iconHolder__Fb2OL",ce="CollapsibleModalItem_roundButton__RVQAn",de="CollapsibleModalItem_roundButtonActive__uRuxi",ve="CollapsibleModalItem_hidden__cgeVa",fe="CollapsibleModalItem_collapse__mjqAa",pe="CollapsibleModalItem_semiExtend__n5H7W",me="CollapsibleModalItem_extend__ftrfE";function he(e){var t=e.title,n=e.description,r=e.state,a=e.Form,s=e.Icon,u=e.IconExpanded,c=e.portalId,d=e.reviewId,v=e.existingActionRequests,f=e.reviewActionType,h=e.reviewItems,_=e.updateModalState,w=e.interacted,g=e.closeModal,x=(0,l.useState)(!1),b=(0,o.Z)(x,2),I=b[0],C=b[1],y=(0,l.useRef)(null),P=(0,l.useRef)(null),S=(0,l.useRef)(null),E=(0,l.useRef)(null),j=(0,re.Z)(y),T=(0,re.Z)(P),N=(0,re.Z)(S),R=(0,re.Z)(E);(0,l.useEffect)((function(){null!==j&&void 0!==j&&j.height&&null!==T&&void 0!==T&&T.height&&(I||C(!0))}),[j,T,I]);var Z=0,D=0,A=0;T&&(Z=T.height),j&&N&&(D=j.height+N.height),j&&R&&(A=j.height+R.height);var M=p()(ie,fe),L=p()(ie),O=p()(ie,pe),F=p()(ie,pe,me),U={},V={},W={},H=p()(de,ce),G=p()(ve,ce),z=p()(ie);switch(r){case B.COLLAPSED:U={height:"0px"},z=M,V=H,W=G;break;case B.OPEN:U={height:Z+"px"},z=L,V=H,W=G;break;case B.HIGHLIGHTED:U={height:D+"px"},z=O,V=H,W=G;break;case B.EXPANDED:U={height:A+"px"},z=F,V=G,W=H}w&&(U=(0,i.Z)((0,i.Z)({},U),{},{transition:"height 300ms ease-in-out"}));var q=(0,k.jsxs)("div",{className:oe,onClick:function(){_(B.HIGHLIGHTED)},children:[(0,k.jsxs)("div",{className:ue,children:[(0,k.jsx)(m.hU,{type:"button",appearance:"overlay",size:"regular",className:V,onFocus:function(){_(B.HIGHLIGHTED)},children:(0,k.jsx)(s,{})}),(0,k.jsx)(m.hU,{type:"button",appearance:"overlay",size:"regular",className:W,children:(0,k.jsx)(u,{})})]}),(0,k.jsxs)("div",{className:se,children:[(0,k.jsx)("span",{children:t}),(0,k.jsx)("div",{className:le,children:n})]})]});return(0,k.jsxs)("div",{children:[(0,k.jsxs)("div",{className:ae,children:[(0,k.jsx)("div",{ref:P,className:L,children:q}),(0,k.jsx)("div",{ref:y,className:O,children:q})]}),(0,k.jsxs)("div",{style:(0,i.Z)({visibility:I?"visible":"hidden"},U),className:z,children:[q,(0,k.jsx)(a,{highlightedRef:S,footerRef:E,portalId:c,reviewId:d,state:r,existingActionRequests:v,reviewActionType:f,reviewItems:h,updateModalState:_,closeModal:g})]})]})}!function(e){e[e.COLLAPSED=0]="COLLAPSED",e[e.OPEN=1]="OPEN",e[e.HIGHLIGHTED=2]="HIGHLIGHTED",e[e.EXPANDED=3]="EXPANDED"}(B||(B={}));var _e=n(57689),we=n(66893),ge="GetLinkForm_contentFormGetLink__LM2ns",ke="GetLinkForm_inputWrapper__6TnAA",xe="GetLinkForm_copyLinkButton__StfrO",be="GetLinkForm_shareLinkInput__N-wdU",Ie="GetLinkForm_shareLinkInputBackground__WvUTz";function Ce(e){var t=e.highlightedRef,n=e.footerRef,r=(e.portalId,e.reviewId),i=e.closeModal,a=(0,u.$G)().t,o=(0,R.Fn)(),s=o.fireEvent,l=o.fireErrorEvent,c=(0,_e.TH)(),d=(0,we.o)({reviewId:r}),f=(0,y.v9)(U.v9),p=(0,R.ak)(c.pathname),h=function(){var e=(0,b.Z)(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,R.BH)({tier:f}),e.prev=1,e.next=4,navigator.clipboard.writeText("".concat(window.location.origin).concat(d));case 4:s({eventName:R.B_.REVIEW_LINK_COPIED,optionalEventProperties:(0,v.Z)({},R.r8.LOCATION,p),groups:(0,v.Z)({},R.YT.REVIEW,r)}),(0,E.t6)({message:a("share.success"),type:"info"}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),(0,E.t6)({message:a("share.failure"),type:"error"}),l("share.failure");case 12:i();case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,k.jsx)("div",{ref:n,children:(0,k.jsx)("div",{ref:t,children:(0,k.jsxs)("div",{className:ge,children:[(0,k.jsx)("div",{className:ke,children:(0,k.jsx)(S.o,{value:function(){var e=window.location.origin.split("//").pop();return"".concat(e).concat(d)}(),readOnly:!0,disabled:!0,"data-test-id":"portal.share.link",className:be,backgroundClassName:Ie})}),(0,k.jsx)(m.LE,{onClick:h,appearance:"primary",className:xe,children:a("share.action")})]})})})}var ye=n(42667),Pe={container:"InlineMultipleTextInput_container__9bl2S",containerHasValues:"InlineMultipleTextInput_containerHasValues__uSPVz",invalid:"InlineMultipleTextInput_invalid__S1d+c",inputWrapperNoValues:"InlineMultipleTextInput_inputWrapperNoValues__BRtcm",inputWrapperHasValues:"InlineMultipleTextInput_inputWrapperHasValues__TOqY6",inputHasValues:"InlineMultipleTextInput_inputHasValues__HvHYI",inputBackgroundWhenInputHasValues:"InlineMultipleTextInput_inputBackgroundWhenInputHasValues__Yfftm",inputError:"InlineMultipleTextInput_inputError__5WwrS"};var Se=["value","separator","onChange","isValid","isUnique","onInputFocus","placeholder"];function Ee(e){var t=e.value,n=void 0===t?"":t,r=e.separator,u=void 0===r?",":r,d=e.onChange,f=e.isValid,m=void 0===f?function(){return!0}:f,h=e.isUnique,_=void 0===h?function(){return!0}:h,w=e.onInputFocus,g=e.placeholder,x=(0,s.Z)(e,Se),b=(0,l.useState)(""),I=(0,o.Z)(b,2),C=I[0],y=I[1],P=(0,l.useState)(null),E=(0,o.Z)(P,2),j=E[0],T=E[1],N=(0,l.useRef)(null),R=(0,l.useRef)(null),Z=n.length>0,D=Z?n.split(u):[],A=(0,l.useCallback)((function(){var e=null===C||void 0===C?void 0:C.trim();if(e){var t=function(e,t,n){var r=null;return t(e)||(r="invalid"),n(e)||(r="duplicate"),r}(e,m,_),r="".concat(n).concat(Z?u:"").concat(e);t||(null===d||void 0===d||d(r),y("")),T(t)}}),[d,y,m,_,Z,C,u,n]),M=(0,l.useCallback)((function(e){var t=e.target.value.replace(u,"");y(t),t||T(null)}),[u]),L=(0,l.useCallback)((function(e){switch(e.key){case"Enter":case u:A()}}),[A,u]),O=(0,l.useCallback)((function(){var e;null===(e=R.current)||void 0===e||e.focus(),w&&w()}),[R,w]),B=D.length>0;return(0,k.jsxs)("div",{className:p()(Pe.container,(0,v.Z)({},Pe.containerHasValues,B)),ref:N,onClick:O,children:[D.map((function(e,t){return(0,k.jsx)(ye.D,{value:e,actionIcon:c.x8,onIconClick:function(){var e;!function(e){var t=(0,a.Z)(D);t.splice(e,1);var n=t.join(u);null===d||void 0===d||d(n)}(t),null===(e=R.current)||void 0===e||e.focus()},title:e,className:Pe.pillMargins,children:e},t)})),(0,k.jsx)("div",{className:p()((0,v.Z)({},Pe.inputWrapperNoValues,!B),(0,v.Z)({},Pe.inputWrapperHasValues,B)),children:(0,l.createElement)(S.o,(0,i.Z)((0,i.Z)({},x),{},{placeholder:g,key:"mainInput",ref:R,onPaste:function(e){e.preventDefault();var t=function(e,t){var n=e.clipboardData.getData("text");return n?n.split(t):[]}(e,u),n=function(e,t,n){return e.reduce((function(e,r){var i=r.trim();return t(i)&&n(i)&&e.push(i),e}),[])}(t,m,_);if(n.length){var r=[].concat((0,a.Z)(D),(0,a.Z)(n));null===d||void 0===d||d(r.join(u))}y("")},value:C,className:p()((0,v.Z)({},Pe.inputHasValues,B)),inputClassName:p()((0,v.Z)({},Pe.inputError,null!==j)),backgroundClassName:p()((0,v.Z)({},Pe.inputBackgroundWhenInputHasValues,B)),onChange:M,onKeyDown:L,onBlur:A,type:"text"}))})]})}var je=n(15307),Te=n(61173),Ne=n(25984),Re="SendLinkForm_contentFormSendLink__VZPmd",Ze="SendLinkForm_inviteReviewInputs__o6Qe4",De="SendLinkForm_emailInput__Kr539",Ae="SendLinkForm_shareButton__aSdil",Me="SendLinkForm_sendLinkFormRef__pk9aa",Le="SendLinkForm_inviteSuccessContainer__glWyj",Oe="SendLinkForm_inviteSuccessEmailListBold__xGbTV",Be="SendLinkForm_inviteSuccessIcon__6Oj4+";function Fe(e){var t=e.highlightedRef,n=e.footerRef,r=e.portalId,i=e.reviewId,s=e.existingActionRequests,d=void 0===s?[]:s,f=e.reviewActionType,p=e.reviewItems,h=void 0===p?[]:p,_=e.state,w=e.updateModalState,g=e.closeModal,x=(0,R.Fn)(),I=x.fireEvent,P=x.fireErrorEvent,j=(0,te.B)({portalId:r,reviewId:i}).guestTokenId,N=(0,ee.$)({reviewId:i,guestTokenId:j}).review,D=(0,y.v9)(V.BX),A=(0,y.v9)(W.HF),M=(0,l.useMemo)(F.q,[]),L=(0,y.v9)((function(e){return M(e,i)})),O=(0,Z.g)({portalId:r,guestTokenId:j}).portal,H=(0,y.v9)(U.v9),G=(0,l.useState)([]),z=(0,o.Z)(G,2),q=z[0],$=z[1],X=(0,l.useState)(""),Y=(0,o.Z)(X,2),K=Y[0],J=Y[1],Q=(0,u.$G)().t,ne=(0,_e.TH)(),re=2===_?"invite_email_placeholder":"email_placeholder",ie=(0,Ne.I)().batchCreateActionRequest,ae=(0,T.T)().restrictActionWithModal,oe=function(){var e=(0,b.Z)(C().mark((function e(){var t,n,r,o,s,l,u,d,p,m,_;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(),e.next=3,ie({reviewId:i,attributes:{actionType:f,engagementType:"INVITED",emails:q,message:K}});case 3:(r=e.sent).error||null===(null===(t=r.data)||void 0===t||null===(n=t.batchCreateActionRequest)||void 0===n?void 0:n.actionRequests)?((0,E.t6)({message:Q("error.add_reviewer_error"),type:"error"}),P("error.add_reviewer_error")):(s=Q("review.share.send_link.sent_notification"),l=(0,a.Z)(q).slice(0,2).join(", "),u=q.length>2?" +".concat(q.length-2," ").concat(Q("review.share.send_link.more")):"",d=function(){return(0,k.jsxs)("div",{className:Le,children:[(0,k.jsx)("span",{className:Be,children:(0,k.jsx)(c.U2,{size:"large"})}),s,(0,k.jsx)("span",{className:Oe,children:l}),u]})},(0,E.t6)({message:d,type:"default"}),N&&D&&A&&(m=(null===(p=N.actionRequests)||void 0===p?void 0:p.filter((function(e){return"ASSIGNED"===e.engagementType})).length)||0,(0,R.gk)({review:N,reviewItems:h,numberOfAssignedReviewers:m,portal:O,team:D,userId:(null===A||void 0===A?void 0:A.sub)||"",comments:L,tier:H})),(0,R.bd)({tier:H,numberOfInvites:q.length}),_=(0,R.ak)(ne.pathname),I({eventName:R.B_.REVIEW_EMAIL_INVITE_SENT,optionalEventProperties:(o={},(0,v.Z)(o,R.r8.LOCATION,_),(0,v.Z)(o,R.r8.HAS_MESSAGE,!!K),(0,v.Z)(o,R.r8.NUM_INVITES,q.length),o),groups:(0,v.Z)({},R.YT.REVIEW,null===N||void 0===N?void 0:N.publicId)}),$([]),J(""));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,k.jsx)("div",{ref:n,children:(0,k.jsx)("div",{className:Re,children:(0,k.jsxs)("div",{className:Ze,children:[(0,k.jsx)("div",{ref:t,className:Me,children:(0,k.jsx)("div",{className:De,ref:t,onFocus:function(){w(B.EXPANDED)},children:(0,k.jsx)(Ee,{value:q.join(","),separator:",",onChange:function(e){var t=e.length>0?e.split(","):[];$(t)},isValid:function(e){return(0,je.J)(e)},isUnique:function(e){return!d.map((function(e){return e.email})).concat(q).find((function(t){return(0,Te.$)(t,e)}))},placeholder:q.length>0?"":Q("review.share.send_link.".concat(re)),"data-test-id":"review.email.input",onInputFocus:function(){w(B.EXPANDED)}})})}),(0,k.jsx)(S.o,{multiline:!0,value:K,onChange:function(e){J(e.target.value)},placeholder:Q("review.share.send_link.add_a_message"),"data-test-id":"review.invite_message_placeholder","data-lpignore":!0,autoComplete:"off"}),(0,k.jsx)(m.LE,{appearance:"primary",className:Ae,onClick:function(e){return ae({restrictionType:"canUpdateReviews",analyticsEventName:"share_review",onAccessGiven:oe,onAccessRefused:function(){return e.preventDefault()}})},disabled:q.length<1,children:(0,k.jsx)("span",{children:Q("review.share.send_link.send_link")})})]})})})}var Ue,Ve="ShareReviewModal_transparentModal__bVjUt",We="ShareReviewModal_subTitleLink__Ac2b-",He=["portalId","isOpen","onDismiss","reviewId","reviewActionType","reviewItems","size"];function Ge(e){var t,n=e.portalId,r=e.isOpen,v=e.onDismiss,f=e.reviewId,p=e.reviewActionType,m=e.reviewItems,h=(e.size,(0,s.Z)(e,He)),_=(0,u.$G)().t,w=function(){v()},g=(0,te.B)({portalId:n,reviewId:f}).guestTokenId,b=(0,ee.$)({reviewId:f,guestTokenId:g}),I=b.review,C=b.isFetchingReview,y=b.refreshReview,P=(0,D.B)(f).actionRequests,S=(0,ne.A)(!0,null===I||void 0===I?void 0:I.teamId).teamMembers,E=(0,l.useState)(Ue.getLinkHighlighted),j=(0,o.Z)(E,2),T=j[0],N=j[1],R=(0,l.useState)(!1),Z=(0,o.Z)(R,2),A=Z[0],M=Z[1],L=(0,l.useState)(!1),O=(0,o.Z)(L,2),F=O[0],U=O[1];(0,l.useEffect)((function(){F||y()}),[F]);var V=!!!(null!==I&&void 0!==I&&I.reviewCollectionId)||!0!==(null===I||void 0===I||null===(t=I.reviewCollection)||void 0===t?void 0:t.passwordProtected),W=[],H=_("review.share.get_link.sub_title");switch(null!==I&&void 0!==I&&I.commentsEnabled&&(W=[].concat((0,a.Z)(W),[_("review.share.get_link.comment")])),null!==I&&void 0!==I&&I.downloadEnabled&&(W=[].concat((0,a.Z)(W),[_("review.share.get_link.download")])),null===I||void 0===I?void 0:I.actionType){case"VIEW":case"DOWNLOAD":case"DEFAULT":W=[].concat((0,a.Z)(W),[_("review.share.get_link.view")]);break;case"FAVORITE":W=[].concat((0,a.Z)(W),[_("review.share.get_link.favorite")]);break;case"APPROVE":W=[].concat((0,a.Z)(W),[_("review.share.get_link.approve")])}H+=" ".concat(W.join(", "));var G=/,(?=[^,]+$)/;2===W.length&&(H=H.replace(G," ".concat(_("review.share.get_link.and")))),W.length>2&&(H=H.replace(G,", ".concat(_("review.share.get_link.and"))));var z=(0,l.useMemo)((function(){if(S){var e=P.filter((function(e){return"SELF"!==e.engagementType})).map((function(e){return{displayName:(0,Q.MG)({email:e.email,teamMembers:S,shouldHideEmailDomain:!0}).displayName.substring(0,30),engagementType:e.engagementType}}));if(1===e.length)return(0,k.jsxs)("div",{children:[(0,k.jsx)("span",{children:_("review.share.send_link.subtitle_previously_sent")})," ".concat(e[0].displayName)]});if(e.length>1){var t=e.map((function(e,t){return"ASSIGNED"===e.engagementType?(0,k.jsxs)("div",{children:[e.displayName," (",(0,k.jsx)("span",{children:_("review.share.send_link.assigned")}),")"]},t):(0,k.jsx)("div",{children:e.displayName},t)}));return(0,k.jsxs)("div",{children:[(0,k.jsx)("span",{children:_("review.share.send_link.subtitle_previously_sent")})," ",(0,k.jsx)(J.u,{size:"auto",isEnabled:!0,positions:["bottom"],content:t,children:(0,k.jsxs)("span",{className:We,children:[e[0].displayName," + ",e.length-1," more"]})})]})}return(0,k.jsx)("span",{children:_("review.share.send_link.subtitle")})}return(0,k.jsx)("span",{})}),[P,_,S]),q=(0,l.useCallback)((function(e){M(!0),N(e)}),[N,M]),$=(0,l.useCallback)((function(e){if(e===B.HIGHLIGHTED)q(Ue.getLinkHighlighted)}),[q]),X=(0,l.useCallback)((function(e){switch(e){case B.HIGHLIGHTED:q(Ue.sendLinkHighlighted);break;case B.EXPANDED:q(Ue.sendLinkExpanded)}}),[q]),Y=B.HIGHLIGHTED,re=B.OPEN;switch(T){case Ue.getLinkHighlighted:Y=B.HIGHLIGHTED,re=B.OPEN;break;case Ue.sendLinkHighlighted:Y=B.OPEN,re=B.HIGHLIGHTED;break;case Ue.sendLinkExpanded:Y=B.COLLAPSED,re=B.EXPANDED}var ie=(0,l.useCallback)((function(){U(!1)}),[]);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(d.u,(0,i.Z)((0,i.Z)({onDismiss:w,isOpen:r,isHidden:F,size:"small"},h),{},{ariaLabel:"modal-share-get-link-or-invite",styleOverrides:Ve,"data-test-id":"shareReview.modal",children:[(0,k.jsx)(he,{title:_("review.share.get_link.title"),description:H,state:Y,Form:Ce,Icon:c.hB,IconExpanded:c.hB,portalId:n,reviewId:f,updateModalState:$,interacted:A,closeModal:w}),(0,k.jsx)(he,{title:_("review.share.send_link.title"),description:z,state:re,Form:Fe,Icon:c.Mh,IconExpanded:c.Xd,portalId:n,reviewId:f,existingActionRequests:P,reviewActionType:p,reviewItems:m,updateModalState:X,interacted:A,closeModal:w}),!C&&V&&(0,k.jsx)(x,{hasPassphrase:!(null===I||void 0===I||!I.password),onClick:function(){return U(!0)}})]})),F&&(0,k.jsx)(K,{passphrase:(null===I||void 0===I?void 0:I.password)||"",reviewId:null===I||void 0===I?void 0:I.publicId,portalId:n,guestTokenId:g,review:I,reviewItems:m,onDismiss:function(){return U(!1)},onSetSuccess:ie})]})}!function(e){e[e.getLinkHighlighted=0]="getLinkHighlighted",e[e.sendLinkHighlighted=1]="sendLinkHighlighted",e[e.sendLinkExpanded=2]="sendLinkExpanded"}(Ue||(Ue={}))},85288:function(e,t,n){"use strict";n.d(t,{_f:function(){return d},bL:function(){return v},ze:function(){return u}});var r=n(1413),i=n(93433),a=n(29439),o=n(72791),s=n(80184),l={color:"#FFC610",lineWidth:2,selectedTool:"freehand"},u=function(){return(0,o.useContext)(d)},c={isUnidentifiedUser:!1,savingActionError:!1,currentAssetBeingActionedUpon:{assetItemId:"",isSelected:!1},setCurrentAssetBeingTargetedUpon:function(){},activeCommentId:"",setActiveCommentId:function(){},hoveredCommentId:"",setHoveredCommentId:function(){},isCommentContextMenuOpen:!1,setIsCommentContextMenuOpen:function(){},contextMenuHoveredId:"",setContextMenuHoveredId:function(){},editingCommentId:null,setEditingCommentId:function(){},resetCommentContextMenu:function(){},isEditCommentDirty:!1,setIsEditCommentDirty:function(){},isAnchorCheckboxChecked:!0,setIsAnchorCheckboxChecked:function(){},showDiscardEditsModal:!1,setShowDiscardEditsModal:function(){},discardEditsConfirm:null,setDiscardEditsConfirm:function(){},currentMarkup:{},updateCurrentMarkup:function(){},clearCurrentMarkup:function(){},clearAllCurrentMarkup:function(){},markupSettings:l,setMarkupSettings:function(){},currentPDFPage:1,setCurrentPDFPage:function(){},currentPDFPageCount:1,setCurrentPDFPageCount:function(){},currentVideoTime:0,setCurrentVideoTime:function(){},videoRef:{current:null},setVideoRef:function(){},videoRefState:null,setVideoRefState:function(){},currentAudioTime:0,setCurrentAudioTime:function(){},audioRef:{current:null},setAudioRef:function(){},audioRefState:null,setAudioRefState:function(){},getPdfBlobUrl:function(){return null},setPdfBlobUrl:function(){return""},cleanupPdfBlobs:function(){},lightboxHeight:0,setLightboxHeight:function(){}},d=(0,o.createContext)(c),v=function(e){var t=e.children,n=e.isUnidentifiedUser,u=e.savingActionError,c=(0,o.useState)({assetItemId:"",isSelected:!1}),v=(0,a.Z)(c,2),f=v[0],p=v[1],m=(0,o.useState)(""),h=(0,a.Z)(m,2),_=h[0],w=h[1],g=(0,o.useState)(""),k=(0,a.Z)(g,2),x=k[0],b=k[1],I=(0,o.useState)(!1),C=(0,a.Z)(I,2),y=C[0],P=C[1],S=(0,o.useState)(""),E=(0,a.Z)(S,2),j=E[0],T=E[1],N=(0,o.useCallback)((function(){P(!1),T("")}),[T,P]),R=(0,o.useState)(null),Z=(0,a.Z)(R,2),D=Z[0],A=Z[1],M=(0,o.useState)(!1),L=(0,a.Z)(M,2),O=L[0],B=L[1],F=(0,o.useState)(!0),U=(0,a.Z)(F,2),V=U[0],W=U[1],H=(0,o.useState)(!1),G=(0,a.Z)(H,2),z=G[0],q=G[1],$=(0,o.useState)(null),X=(0,a.Z)($,2),Y=X[0],K=X[1],J=(0,o.useState)(new Map),Q=(0,a.Z)(J,2),ee=Q[0],te=Q[1],ne=(0,o.useCallback)((function(e){return ee.has(e)?ee.get(e):null}),[ee]),re=(0,o.useCallback)((function(e,t){var n=URL.createObjectURL(t);return te(ee.set(e,n)),n}),[ee,te]),ie=(0,o.useCallback)((function(){ee.forEach((function(e){URL.revokeObjectURL(e)}))}),[ee]),ae=(0,o.useState)(1),oe=(0,a.Z)(ae,2),se=oe[0],le=oe[1],ue=(0,o.useState)(1),ce=(0,a.Z)(ue,2),de=ce[0],ve=ce[1],fe=(0,o.useState)(0),pe=(0,a.Z)(fe,2),me=pe[0],he=pe[1],_e=(0,o.useState)(0),we=(0,a.Z)(_e,2),ge=we[0],ke=we[1],xe=(0,o.useState)({}),be=(0,a.Z)(xe,2),Ie=be[0],Ce=be[1],ye=(0,o.useRef)(null),Pe=(0,o.useState)(null),Se=(0,a.Z)(Pe,2),Ee=Se[0],je=Se[1],Te=(0,o.useCallback)((function(e){ye.current=e,je(e)}),[]),Ne=(0,o.useRef)(null),Re=(0,o.useState)(null),Ze=(0,a.Z)(Re,2),De=Ze[0],Ae=Ze[1],Me=(0,o.useCallback)((function(e){Ne.current=e,Ae(e)}),[]),Le=(0,o.useCallback)((function(e,t){Ie[e]?Ie[e]=[].concat((0,i.Z)(Ie[e]),[t]):Ie[e]=[t],Ce((0,r.Z)({},Ie))}),[Ie]),Oe=(0,o.useCallback)((function(){Ce({})}),[]),Be=(0,o.useCallback)((function(e){if(Ie[e]){var t=(0,r.Z)({},Ie);delete t[e],Ce(t)}}),[Ie]),Fe=(0,o.useState)(l),Ue=(0,a.Z)(Fe,2),Ve=Ue[0],We=Ue[1],He=(0,o.useState)(0),Ge=(0,a.Z)(He,2),ze=Ge[0],qe=Ge[1],$e=(0,o.useMemo)((function(){return{isUnidentifiedUser:n,savingActionError:u,currentAssetBeingActionedUpon:f,setCurrentAssetBeingTargetedUpon:p,isAnchorCheckboxChecked:V,setIsAnchorCheckboxChecked:W,activeCommentId:x,setActiveCommentId:b,hoveredCommentId:_,setHoveredCommentId:w,isCommentContextMenuOpen:y,setIsCommentContextMenuOpen:P,contextMenuHoveredId:j,setContextMenuHoveredId:T,resetCommentContextMenu:N,showDiscardEditsModal:z,setShowDiscardEditsModal:q,discardEditsConfirm:Y,setDiscardEditsConfirm:K,editingCommentId:D,setEditingCommentId:A,isEditCommentDirty:O,setIsEditCommentDirty:B,currentMarkup:Ie,updateCurrentMarkup:Le,clearCurrentMarkup:Be,clearAllCurrentMarkup:Oe,markupSettings:Ve,setMarkupSettings:We,currentPDFPage:se,setCurrentPDFPage:le,currentPDFPageCount:de,setCurrentPDFPageCount:ve,currentVideoTime:me,setCurrentVideoTime:he,videoRef:ye,setVideoRef:Te,videoRefState:Ee,setVideoRefState:je,currentAudioTime:ge,setCurrentAudioTime:ke,audioRef:Ne,setAudioRef:Me,audioRefState:De,setAudioRefState:Ae,getPdfBlobUrl:ne,setPdfBlobUrl:re,cleanupPdfBlobs:ie,lightboxHeight:ze,setLightboxHeight:qe}}),[n,u,f,V,W,x,b,_,w,y,P,j,T,N,z,q,Y,K,D,A,O,B,Ie,Le,Be,Oe,Ve,se,le,de,ve,me,he,ye,Te,Ee,je,ge,ke,Ne,Me,De,Ae,ne,re,ie,ze,qe]);return(0,s.jsx)(d.Provider,{value:$e,children:t})}},64104:function(e,t,n){"use strict";n.d(t,{Wy:function(){return r},Xi:function(){return s}});var r,i=n(72791),a=function(){};!function(e){e[e.REVIEW=0]="REVIEW",e[e.HOMEPAGE=1]="HOMEPAGE",e[e.PORTAL=2]="PORTAL"}(r||(r={}));var o={reviewId:"",setReviewId:a,reviewItems:[],isStandAloneReview:function(){return!1},displayMode:"view",enterEditMode:a,exitEditMode:a,layoutGrid:"GRID",setLayoutGrid:a,prePublishAssignee:[],setPrePublishAssignee:a,checkTitleAndDescription:a,editedTitle:void 0,setEditedTitle:a,editedDescription:void 0,setEditedDescription:a,reportOriginPage:r.REVIEW,setReportOriginPage:a,shouldDismissToast:!1,setShouldDismissToast:a},s=(0,i.createContext)(o);s.displayName="ReviewContext"},16409:function(e,t,n){"use strict";n.d(t,{l:function(){return a}});var r=function(){},i={reviewItemsWithProgress:[],uploadFiles:r,dismissToast:r,progressToastId:"",progress:0,isIdle:!0,isItemUploading:function(){return!1},isUploadComplete:!1},a=(0,n(72791).createContext)(i);a.displayName="ReviewUploadProgressContext"},70472:function(e,t,n){"use strict";n.d(t,{X:function(){return u.Xi},C:function(){return d}});var r=n(29439),i=n(72791),a=n(57689),o=n(66893),s=n(59434),l=n(21800);var u=n(64104),c=n(80184);function d(e){var t=e.children,n=(0,a.TH)().state,d=(0,a.s0)(),v=(0,i.useState)("COLUMN"),f=(0,r.Z)(v,2),p=f[0],m=f[1],h=(0,i.useState)("view"),_=(0,r.Z)(h,2),w=_[0],g=_[1],k=(0,i.useState)(""),x=(0,r.Z)(k,2),b=x[0],I=x[1],C=(0,i.useState)([]),y=(0,r.Z)(C,2),P=y[0],S=y[1],E=(0,i.useState)(void 0),j=(0,r.Z)(E,2),T=j[0],N=j[1],R=(0,i.useState)(void 0),Z=(0,r.Z)(R,2),D=Z[0],A=Z[1],M=(0,i.useState)(u.Wy.REVIEW),L=(0,r.Z)(M,2),O=L[0],B=L[1],F=(0,i.useState)(!1),U=(0,r.Z)(F,2),V=U[0],W=U[1],H=(0,a.UO)().editMode,G=(0,i.useCallback)((function(e){return!e.reviewCollectionId}),[]),z=function(e){var t=e.reviewId,n=(0,i.useMemo)(l.yh,[]);return{reviewItems:(0,s.v9)((function(e){return n(e,t)}))}}({reviewId:b}),q=z.reviewItems,$=(0,i.useCallback)((function(){var e=H?q.length>0?"edit":"new":"edit";g("edit"),H!==e&&d("".concat((0,o.o)({reviewId:b}),"/").concat(e))}),[H,d,b,g,q]),X=(0,i.useCallback)((function(){g("view"),d((0,o.o)({reviewId:b}),{state:{fromPreviewCard:null===n||void 0===n?void 0:n.fromPreviewCard,fromPortalPage:null===n||void 0===n?void 0:n.fromPortalPage}})}),[d,b,g,n]),Y=(0,i.useCallback)((function(e){return N(e)}),[N]),K=(0,i.useCallback)((function(e){return A(e)}),[A]),J=(0,i.useCallback)((function(e){e&&e.title===T&&Y(void 0),e&&e.description===D&&K(void 0)}),[T,D,K,Y]),Q=(0,i.useMemo)((function(){return{reviewId:b,setReviewId:I,reviewItems:q,isStandAloneReview:G,layoutGrid:p,setLayoutGrid:m,displayMode:w,enterEditMode:$,exitEditMode:X,prePublishAssignee:P,setPrePublishAssignee:S,checkTitleAndDescription:J,editedTitle:T,setEditedTitle:Y,editedDescription:D,setEditedDescription:K,reportOriginPage:O,setReportOriginPage:B,shouldDismissToast:V,setShouldDismissToast:W}}),[b,I,q,G,p,m,w,$,X,P,S,J,T,Y,D,K,O,B,V,W]);return(0,c.jsx)(u.Xi.Provider,{value:Q,children:t})}},25984:function(e,t,n){"use strict";n.d(t,{I:function(){return c}});var r,i=n(29439),a=n(30168),o=n(72791),s=n(45984),l=n(45726),u=(0,s.Ps)(r||(r=(0,a.Z)(["\n  mutation BatchCreateActionRequest(\n    $reviewId: String!\n    $attributes: ActionRequestBatchAttributes!\n  ) {\n    batchCreateActionRequest(reviewId: $reviewId, attributes: $attributes) {\n      actionRequests {\n        completionCount\n        email\n        reviewId\n        engagementType\n      }\n    }\n  }\n"])));function c(){var e=(0,o.useMemo)((function(){return{additionalTypenames:["Review"]}}),[]),t=(0,l.Db)(u),n=(0,i.Z)(t,2),r=n[0],a=r.data,s=r.fetching,c=n[1],d=(0,o.useCallback)((function(t){return c(t,e)}),[c,e]);return{actionRequests:null===a||void 0===a?void 0:a.batchCreateActionRequest.actionRequests,isCreatingActionRequest:s,batchCreateActionRequest:d}}},63791:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r=n(15861),i=n(29439),a=n(64687),o=n.n(a),s=n(72791),l=n(87498),u=n(75159);function c(e,t){var n=(0,s.useState)(void 0),a=(0,i.Z)(n,2),c=a[0],d=a[1];return(0,s.useEffect)((function(){(0,r.Z)(o().mark((function n(){var r,i;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e||c||!t){n.next=13;break}return n.prev=1,n.next=4,l.kV.get("/teams/".concat(t,"/members"));case 4:r=n.sent,null!==(i=r.body)&&void 0!==i&&i.members&&d(i.members),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),d(void 0),(0,u.eK)(n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,9]])})))()}),[e,t,d,c]),{teamMembers:c||null}}},84096:function(e,t,n){"use strict";n.d(t,{j:function(){return s}});var r=n(29439),i=n(72791),a=n(39230),o=n(26342);function s(){var e=(0,a.$G)().t,t=(0,i.useState)(""),n=(0,r.Z)(t,2),s=n[0],l=n[1],u=(0,i.useRef)(null),c=(0,i.useCallback)((function(e){e?(0,o.aW)(e):(""!==s&&(0,o.aW)(s),l(""))}),[s,l]),d=(0,i.useCallback)((function(){c(),u.current=null}),[c]);return{updateProgress:(0,i.useCallback)((function(t){var n=e("editReview.uploading_items",{uploadProgress:t});if(u.current)t<99&&(clearTimeout(u.current),u.current=null,(0,o.es)(s,{render:n}));else if(s)(0,o.es)(s,{render:n}),100===t&&(u.current=setTimeout((function(){return d()}),2e3));else if(t<99){var r=(0,o.YD)({message:n});r&&l(r),(0,o.es)(r,{render:n})}}),[s,d,l,e]),dismissToast:c,resetProgressToast:d,progressToastId:s}}},11538:function(e,t,n){"use strict";n.d(t,{B:function(){return c}});var r,i=n(29439),a=n(30168),o=n(72791),s=n(45984),l=n(45726),u=(0,s.Ps)(r||(r=(0,a.Z)(["\n  query ReviewActionRequestsQuery($reviewId: String!) {\n    review(id: $reviewId) {\n      actionRequests {\n        engagementType\n        completedAt\n        email\n        engagementType\n        publicId\n        favoritedItems {\n          publicId\n        }\n        approvedItems {\n          publicId\n        }\n      }\n    }\n  }\n"])));function c(e){var t,n,r=(0,o.useMemo)((function(){return{additionalTypenames:["ActionRequest"]}}),[]),a=(0,l.aM)({query:u,variables:{reviewId:e},context:r}),s=(0,i.Z)(a,2),c=s[0],d=c.data,v=c.fetching,f=s[1],p=null!==(t=null===d||void 0===d||null===(n=d.review)||void 0===n?void 0:n.actionRequests)&&void 0!==t?t:[],m=p.filter((function(e){return!e.completedAt})),h=p.filter((function(e){return e.completedAt})),_=p.filter((function(e){return!e.completedAt&&"ASSIGNED"===e.engagementType})),w=p.filter((function(e){return e.completedAt&&"ASSIGNED"===e.engagementType})),g=p.filter((function(e){return"ASSIGNED"===e.engagementType}));return{actionRequests:p,completedActionRequests:h,notCompletedActionRequests:m,completedAssignedActionRequests:w,notCompletedAssignedActionRequests:_,totalCount:p.length,totalAssignedCount:g.length,completedCount:h.length,isFetchingReviewActionRequests:v,refreshReviewActionRequests:function(){f({requestPolicy:"network-only"})}}}},7533:function(e,t,n){"use strict";n.d(t,{$:function(){return v}});var r,i=n(29439),a=n(30168),o=n(72791),s=n(57689),l=n(45984),u=n(45726),c=n(43441),d=(0,l.Ps)(r||(r=(0,a.Z)(["\n  query ReviewQuery($reviewId: String!, $token: String!) {\n    review(id: $reviewId) {\n      publicId\n      title\n      description\n      layoutType\n      actionType\n      commentsEnabled\n      downloadEnabled\n      password\n      passwordProtected\n      createdAt\n      updatedAt\n      creatorId\n      reviewCollectionId\n      reviewCollection {\n        publicId\n        passwordProtected\n      }\n      stormMutationToken\n      dueDate\n      actionRequestType\n      teamId\n      stats(token: $token) {\n        viewCount\n        downloadCount\n        totalActionCount\n        completedActionCount\n        totalCommentCount\n        totalApprovedCount\n        totalFavoritedCount\n      }\n      status\n      actionRequest(token: $token) {\n        actionType\n        completedAt\n        completionCount\n        createdAt\n        email\n        reviewId\n        updatedAt\n        favoritedItems {\n          publicId\n        }\n        approvedItems {\n          publicId\n        }\n      }\n      actionRequests {\n        engagementType\n        completedAt\n        email\n        publicId\n        favoritedItems {\n          publicId\n        }\n        approvedItems {\n          publicId\n        }\n      }\n      actionRequestType\n      itemCount\n      totalSize\n      dueDate\n    }\n  }\n"])));function v(e){var t,n=e.reviewId,r=e.guestTokenId,a=(0,o.useMemo)((function(){return{additionalTypenames:["ActionRequest","ReviewCollection"]}}),[]),l=(0,u.aM)({query:d,variables:{reviewId:n,token:r},context:a,pause:!n}),v=(0,i.Z)(l,2),f=v[0],p=f.data,m=f.fetching,h=f.stale,_=f.error,w=v[1],g=(0,s.s0)(),k=(0,c.k6)(null===_||void 0===_?void 0:_.graphQLErrors);if(k&&k===c.OU)g("/not_found",{replace:!0});return{review:null!==(t=null===p||void 0===p?void 0:p.review)&&void 0!==t?t:null,shareUrl:function(){var e=window.location.origin.split("//").pop();return"".concat(e,"/reviews/").concat(n)}(),isFetchingReview:m,isFetchingReviewStale:h,error:k,refreshReview:function(){w({requestPolicy:"network-only"})}}}},14011:function(e,t,n){"use strict";n.d(t,{l:function(){return u}});var r=n(4942),i=n(81694),a=n.n(i),o="PreviewLoader_loader__z9Jhk",s="PreviewLoader_hide__peaCt",l=n(80184);function u(e){var t=e.isLoading;return(0,l.jsx)("div",{className:a()(o,(0,r.Z)({},s,!t))})}},21105:function(e,t,n){"use strict";n.d(t,{M:function(){return f}});var r=n(37762),i=n(29439),a=n(81694),o=n.n(a),s=n(72791),l=n(94516),u=n(7597),c=n(3460),d={containerAnchor:"StickyHeader_containerAnchor__vdSPd",withOutageBanner:"StickyHeader_withOutageBanner__EzIXx",withEnablementBanner:"StickyHeader_withEnablementBanner__Vqsa4",container:"StickyHeader_container__2XF94",inverted:"StickyHeader_inverted__lvdwD",subContainer:"StickyHeader_subContainer__0Pepm"},v=n(80184);function f(e){var t=e.appearance,n=void 0===t?"default":t,a=e.children,f=e.yThreshold,p=void 0===f?100:f,m=(0,s.useState)(!1),h=(0,i.Z)(m,2),_=h[0],w=h[1],g=(0,s.useState)(!1),k=(0,i.Z)(g,2),x=k[0],b=k[1],I=(0,l.Z)().y,C=(0,s.useContext)(u.L).isOutageBannerOn,y=(0,c.i_)().isEnablementBannerActive,P=(0,s.useMemo)((function(){return x?document.body.style.getPropertyValue("margin-top"):"0px"}),[x]);return(0,s.useEffect)((function(){var e=C||y?20:0;if(I-p>=e&&!_)return w(!0);I<p&&p-I>e&&_&&w(!1)}),[C,y,_,p,I,w]),(0,s.useEffect)((function(){var e=new MutationObserver((function(e){var t,n=(0,r.Z)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;"attributes"===i.type&&"style"===i.attributeName&&b("48px"===document.body.style.getPropertyValue("margin-top"))}}catch(a){n.e(a)}finally{n.f()}}));return e.observe(document.body,{attributes:!0,attributeFilter:["style"]}),function(){e.disconnect()}}),[]),(0,v.jsx)("div",{className:o()(d.containerAnchor,C&&d.withOutageBanner,y&&d.withEnablementBanner),children:(0,v.jsx)("div",{className:o()(d.container,d[n],C&&d.withOutageBanner,y&&d.withEnablementBanner),"data-is-sticky":_,"data-test-id":"portals.sticky-header",style:{marginTop:P},children:(0,v.jsx)("div",{className:d.subContainer,children:a})})})}},14160:function(e,t,n){"use strict";n.d(t,{t:function(){return Ut}});var r=n(4942),i=n(81694),a=n.n(i),o=n(72791),s=n(7879),l=n(98972),u=n(75159),c=n(42592),d=n(85288),v=n(14011),f=n(29439),p=n(97415),m=n(1413),h=n(15861),_=n(45987),w=n(64687),g=n.n(w),k=n(55430),x=n(71775),b="Audio_container__x4X+y",I="Audio_waveformWrapper__KClV0",C="Audio_loadingScreenWrapper__V4cbn",y=n(42898),P=n(41765),S=n(39972),E=n(13385),j=n(5932),T=n(77400),N=n(93433);function R(e){var t=e.value,n=e.size,r=e.maxValue,i=e.containerWidth;if(!i||!r)return"0";var a=t/r*100,o=a<=0?0:a>=100?100:a,s="small"===n?.5:.75,l=100/(i/(16*s)),u="0.125rem";return o-l<=0?u:o>=100-l?"calc(".concat(100-l,"% - ").concat(u,")"):"calc(".concat(o,"% - ").concat(s/2,"rem)")}function Z(e){var t=64*Math.pow(Math.max.apply(Math,(0,N.Z)(e)),-1);return e.map((function(e){return e*t}))}function D(e,t,n){return e/n*t}function A(e,t,n){return e/t*n}var M="Controls_markers__z9WsK",L="Controls_padding__J+z5D",O="Controls_flex__FemB7",B="Controls_flex1__DRWsC",F="Controls_flex2__KpNDE",U="Controls_justifyCenter__e33fU",V="Controls_justifyEnd__jF+7U",W="Controls_alignCenter__PmcJx",H="Controls_controls__toPxX",G="Controls_volume__M0p1P",z=n(80184),q=(0,o.forwardRef)((function(e,t){var n=e.currentTime,r=e.duration,i=(e.step,e.playing),s=e.muted,l=e.volume,u=e.markers,c=e.onMarkerSelect,d=(e.onScrubberChange,e.onPlayPause),v=e.onSeekBackwards,m=e.onSeekForwards,h=e.onToggleMuted,_=e.onVolumeUpdate,w=(0,p.Z)(),g=(0,f.Z)(w,2),k=g[0],x=g[1].width,b=u&&u.length>0&&r>0,I=(0,o.useMemo)((function(){return!x||x>236}),[x]),C=(0,o.useMemo)((function(){return x>j.s}),[x]);return(0,z.jsxs)("div",{className:H,ref:t,children:[(0,z.jsx)("div",{ref:k,className:M,children:b&&(0,z.jsx)(P.s,{children:u.map((function(e){return(0,z.jsx)(y.J,{marker:e,position:"".concat(R({value:e.value,size:e.size,maxValue:r,containerWidth:x})),onMarkerSelect:c},e.id)}))})}),(0,z.jsxs)("div",{className:a()(O,W,L),children:[(0,z.jsx)("div",{className:B,children:(0,z.jsx)("div",{className:a()(O,W),children:I&&(0,z.jsx)("div",{className:a()(B,G),children:(0,z.jsx)(T.f,{muted:s,volume:l,onChange:function(e){return _(e)},onToggleMuted:h})})})}),(0,z.jsx)("div",{className:a()(F,O,U),children:(0,z.jsx)(S.B,{containerWidth:x,playing:i,seekBackwardsLabel:"Skip back one second",seekForwardsLabel:"Skip forward one second",onPlayPause:d,onSeekBackwards:v,onSeekForwards:m})}),C&&(0,z.jsx)("div",{className:a()(B,O,V),children:(0,z.jsx)(E.b,{currentTime:n,endTime:r,containerWidth:x})})]})]})})),$=n(89898),X="MarkerIndicators_markerIndicatorWrapper__FiiPv",Y="MarkerIndicators_markerWrapper__NKAhY",K="MarkerIndicators_timeArmWrapper__WkZuc",J="MarkerIndicators_timeArmLine__ILQRx",Q="MarkerIndicators_timeArmLabel__xF7T3";function ee(e){var t=e.markers,n=e.duration,r=e.measureWidth,i=e.measureHeight,a=e.clientMousePos,o=e.selectedTime,s=e.mouseEntered,l=55;return(0,z.jsxs)("div",{className:X,"data-test-id":"audio.markerIndicators",children:[(0,z.jsx)("span",{className:Y,children:(0,z.jsx)("svg",{children:t.map((function(e,t){var a=A(e.value,n,r);return(0,z.jsx)("line",{x1:a||0,y1:i,x2:a||0,y2:0,stroke:e.color},"marker-line-".concat(t))}))})}),s&&(0,z.jsxs)("div",{className:K,style:{left:a.x<27.5?0:a.x>r-27.5?r-l:a.x-27.5},"data-test-id":"audio.timearm",children:[(0,z.jsx)("span",{className:J,style:{left:a.x<27.5?a.x:a.x>r-27.5?a.x-(r-l):27.5}}),(0,z.jsx)("span",{className:Q,"data-test-id":"audio.timearm.label",children:(0,$.m)(o)})]})]})}var te="Waveform_waveContainer__GlDvH",ne="Waveform_svgWrapper__NHhLB";function re(e){var t=e.currentTime,n=e.canvasWidth,r=e.duration,i=e.seekToTime,a=e.measureHeight,s=e.measureWidth,l=e.clientMousePos,u=e.markers,c=e.waveformPoints,d=(0,o.useRef)(null),v=A(t,r,n),p=(0,o.useState)(0),m=(0,f.Z)(p,2),h=m[0],_=m[1],w=(0,o.useState)(v),g=(0,f.Z)(w,2),k=g[0],x=g[1],b=(0,o.useState)(!1),I=(0,f.Z)(b,2),C=I[0],y=I[1],P=100,S=n/(c.length-1);(0,o.useEffect)((function(){var e=D(k,r,n);_(e)}),[k,n,r]);var E=(0,o.useMemo)((function(){return[[0,P],[n,P]].concat((0,N.Z)((0,N.Z)(c).reverse().map((function(e,t){return[n-t*S,P+-e/64*P]})))).join(" ")}),[c,S,n,64,P]);function j(e){return null!==d&&void 0!==d&&d.current?e-d.current.getBoundingClientRect().left:0}return(0,z.jsxs)("div",{className:te,children:[(0,z.jsx)("div",{className:ne,ref:d,onPointerMove:function(e){return function(e){if("touch"!==e.pointerType&&(y(!0),d.current)){var t=j(e.clientX);x(t)}}(e)},onPointerLeave:function(){x(v),y(!1)},onPointerDown:function(e){if("touch"===e.pointerType&&d.current){var t=j(e.clientX);return x(t),i({newCurrentTime:D(t,r,n),forcePause:!1})}h&&i({newCurrentTime:h,forcePause:!1})},children:(0,z.jsxs)("svg",{viewBox:"0 0 ".concat(n," ").concat(P),preserveAspectRatio:"none","data-test-id":"audio.waveform.svg",children:[(0,z.jsx)("mask",{id:"waveform-mask",children:(0,z.jsx)("polygon",{fill:"white",points:E})}),(0,z.jsx)("rect",{x:"0",y:"0",width:n,height:"100%",fill:"#707070",mask:"url(#waveform-mask)"}),(0,z.jsx)("rect",{x:"0",y:"0",width:C&&l.x>v?k:v,height:"100%",fill:"#c2c2c2",mask:"url(#waveform-mask)"}),(0,z.jsx)("rect",{x:"0",y:"0",width:C&&l.x<v?k:v,height:"100%",fill:"white",mask:"url(#waveform-mask)"})]})}),(0,z.jsx)(ee,{markers:u,duration:r,measureWidth:s,measureHeight:a,clientMousePos:l,selectedTime:h,mouseEntered:C})]})}var ie=["controls","height","children","markers","onMarkerSelect","onCurrentTimeChange","onPlaybackReady","onDurationChange","audioRef","setAudioRef","previewUrl","waveformUrl"];function ae(e){var t,n,r=e.controls,i=void 0===r||r,a=e.height,s=e.children,l=e.markers,c=e.onMarkerSelect,d=e.onCurrentTimeChange,v=e.onPlaybackReady,w=e.onDurationChange,y=e.audioRef,P=e.setAudioRef,S=(e.previewUrl,e.waveformUrl),E=(0,_.Z)(e,ie),j=(0,o.useRef)(null),T=null!==y&&void 0!==y?y:j,N=(0,o.useState)({x:0,y:0}),R=(0,f.Z)(N,2),D=R[0],A=R[1],M=(0,o.useState)([]),L=(0,f.Z)(M,2),O=L[0],B=L[1],F=(0,o.useState)(!1),U=(0,f.Z)(F,2),V=U[0],W=U[1],H=(0,p.Z)(),G=(0,f.Z)(H,2),$=G[0],X=G[1],Y=X.width,K=X.height,J=(0,p.Z)(),Q=(0,f.Z)(J,2),ee=Q[0],te=Q[1].height,ne=(0,o.useRef)(null),ae=(0,k.gD)(T,"playing",!1),oe=(0,f.Z)(ae,1)[0],se=(0,k.gD)(T,"currentTime",0),le=(0,f.Z)(se,2),ue=le[0],ce=le[1],de=(0,o.useState)(0),ve=(0,f.Z)(de,2),fe=ve[0],pe=ve[1],me=(0,k.gD)(T,"muted",!1),he=(0,f.Z)(me,2),_e=he[0],we=he[1],ge=(0,k.gD)(T,"volume",100),ke=(0,f.Z)(ge,2),xe=ke[0],be=ke[1],Ie=(0,o.useState)(!1),Ce=(0,f.Z)(Ie,2),ye=Ce[0],Pe=Ce[1],Se=null===(t=T.current)||void 0===t||null===(n=t.shadowRoot)||void 0===n?void 0:n.querySelector(".audio.player");function Ee(e){var t,n=e.newCurrentTime,r=e.forcePause;(ce(n),r||!r&&!oe)&&(null===(t=T.current)||void 0===t||t.pause())}return(0,o.useEffect)((function(){T.current&&(T.current.playbackStarted=!0)}),[T]),(0,o.useEffect)((function(){null===d||void 0===d||d(ue)}),[ue]),(0,o.useEffect)((function(){var e="\n      min-width: initial;\n      height: ".concat("154px","\n    ");null===Se||void 0===Se||Se.setAttribute("style",e)}),[Se,a,te]),(0,o.useEffect)((function(){function e(){return(e=(0,h.Z)(g().mark((function e(t){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return n=e.sent,e.t0=B,e.t1=Z,e.next=8,n.json();case 8:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),(0,e.t0)(e.t3),e.next=17;break;case 13:e.prev=13,e.t4=e.catch(0),(0,u.eK)(e.t4),B([]);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}S&&function(t){e.apply(this,arguments)}(S)}),[S]),(0,o.useEffect)((function(){O.length>0&&ye&&W(!0)}),[O,ye]),(0,z.jsxs)("div",{className:b,"data-test-id":"audio",ref:$,children:[(0,z.jsxs)(k.J5,{playsinline:!0,controls:!1,ref:P||T,onVmPlaybackReady:function(){Pe(!0),null===v||void 0===v||v()},onVmDurationChange:function(e){var t=-1===e.detail?0:e.detail;pe(t),null===w||void 0===w||w(t)},children:[(0,z.jsx)(k.Bb,(0,m.Z)((0,m.Z)({},E),{},{children:s})),V?(0,z.jsx)("div",{className:I,onMouseMove:function(e){return function(e){if(ne.current){var t=e.clientX-ne.current.getBoundingClientRect().left;A({x:t,y:e.clientY})}}(e)},ref:ne,children:(0,z.jsx)(re,{currentTime:ue,canvasWidth:Y,duration:fe,seekToTime:Ee,markers:null!==l&&void 0!==l?l:[],measureWidth:Y,measureHeight:K-te,clientMousePos:D,waveformPoints:O})}):(0,z.jsx)(k.Ui,{children:(0,z.jsx)("span",{className:C,children:(0,z.jsx)(k.a_,{hideDots:!0,children:(0,z.jsx)(x.$,{})})})})]}),i&&(0,z.jsx)(q,{ref:ee,currentTime:ue,duration:fe,step:1,playing:oe,muted:_e,volume:xe,markers:l,onMarkerSelect:c,onScrubberChange:function(e){Ee({newCurrentTime:e,forcePause:!1})},onPlayPause:function(){var e,t;oe?null===(e=T.current)||void 0===e||e.pause():null===(t=T.current)||void 0===t||t.play()},onSeekBackwards:function(){ue<=0||Ee({newCurrentTime:ue-1<=0?0:ue-1,forcePause:!0})},onSeekForwards:function(){ue>=fe||Ee({newCurrentTime:ue+1>=fe?fe:ue+1,forcePause:!0})},onToggleMuted:function(){we(!_e)},onVolumeUpdate:function(e){be(e),_e&&we(!1)}})]})}var oe,se=n(38684),le=n(73993),ue=n(39230),ce=n(19055),de=n(70472),ve={container:"GenericPreview_container__NfOHi",container__contentExternalPadding:"GenericPreview_container__contentExternalPadding__oE7n+",container__report:"GenericPreview_container__report__qlpoH",content:"GenericPreview_content__ySGes",filetype:"GenericPreview_filetype__G1Onc",containerGrid:"GenericPreview_containerGrid__T3kC5",contentBorder:"GenericPreview_contentBorder__iJhQi",containerColumn:"GenericPreview_containerColumn__4zTAA",contentBackground:"GenericPreview_contentBackground__QywqS",previewInfoContainerGrid:"GenericPreview_previewInfoContainerGrid__Fs6ZG",previewInfo:"GenericPreview_previewInfo__Epv42",previewImage:"GenericPreview_previewImage__pLiL-",previewWaveformContainer:"GenericPreview_previewWaveformContainer__cmejm",previewWaveform:"GenericPreview_previewWaveform__CMMos",boldText:"GenericPreview_boldText__OIQfH",processingPlaceholder:"GenericPreview_processingPlaceholder__PdYlz",fileIcon:"GenericPreview_fileIcon__0iGut"};function fe(e){switch(e){case le.s.PasteLink:return ce.Ip;case le.s.CollectLink:return ce.Dr;case le.s.Audio:return ce.Bb;case le.s.File:default:return ce.$B}}function pe(e){var t,n,i=e.filename,l=e.size,u=e.previewType,c=e.isDetailView,d=e.isReportView,v=e.shouldDisplayPreviewPadding,f=void 0===v||v,p=e.hideTitle,m=void 0===p||p,h=e.shouldDisplayBorder,_=void 0===h||h,w=e.onLoad,g=e.className,k=e.isProcessing,b=void 0!==k&&k,I=e.isDownloadEnabled,C=e.previewImage,y=void 0===C?void 0:C,P=(0,ue.$G)().t,S=fe(u),E=u===le.s.PasteLink?P("reviewItem.preview.paste_by_wetransfer"):u===le.s.CollectLink?P("reviewItem.preview.collect_by_wetransfer"):(0,s.mD)(i),j=function(e){var t=e.previewType,n=e.filename,r=e.size;if(t===le.s.File||t===le.s.Audio||void 0===t){if(!(0,s.dw)(n))return oe.Unsupported;if(!(0,s.kS)(n,r))return oe.OutOfLimit;if((0,s.dw)(n))return oe.Unavailable}return oe.NotAFile}({previewType:u,filename:i,size:l}),T=(0,o.useContext)(de.X).layoutGrid,N=b&&c,R=a()(ve.content,(t={},(0,r.Z)(t,ve.contentBorder,_&&!N&&u!==le.s.Audio),(0,r.Z)(t,ve.previewWaveformContainer,u===le.s.Audio),t)),Z=a()(ve.fileIcon);return(0,o.useEffect)((function(){null===w||void 0===w||w()})),(0,z.jsx)("div",{className:a()(ve.container,"COLUMN"===T?ve.containerColumn:ve.containerGrid,(n={},(0,r.Z)(n,ve.container__contentExternalPadding,f),(0,r.Z)(n,ve.container__report,d),n),g),children:(0,z.jsx)("div",{className:R,children:N?(0,z.jsxs)("div",{className:ve.processingPlaceholder,children:[(0,z.jsx)(x.$,{}),P("reviewItem.preview.processing_preview")]}):(0,z.jsxs)(z.Fragment,{children:[y?(0,z.jsx)("img",{className:"".concat(ve.previewImage," ").concat(u===le.s.Audio?ve.previewWaveform:""),alt:i,src:y}):(0,z.jsx)(S,{className:Z,size:"extra-large"}),!m&&(0,z.jsx)("span",{className:ve.filetype,children:E}),c&&(j===oe.Unsupported||j===oe.Unavailable||j===oe.OutOfLimit)&&(0,z.jsx)("div",{className:"COLUMN"===T?ve.previewInfoContainerColumn:ve.previewInfoContainerGrid,children:(0,z.jsxs)("span",{className:ve.previewInfo,children:[j===oe.OutOfLimit?P(I?"reviewItem.preview.out_of_limit":"reviewItem.preview.out_of_limit_no_download"):null,j===oe.Unavailable?P("reviewItem.preview.no_preview_available"):null,j===oe.Unsupported?(0,z.jsx)(ue.cC,{i18nKey:"reviewItem.preview.format_not_supported",values:{fileExtension:".".concat((0,s.mD)(i))},components:[(0,z.jsx)("span",{className:ve.boldText})]}):null]})})]})})})}!function(e){e[e.Unsupported=0]="Unsupported",e[e.Unavailable=1]="Unavailable",e[e.NotAFile=2]="NotAFile",e[e.OutOfLimit=3]="OutOfLimit"}(oe||(oe={}));var me="AudioPreview_audioContainer__cZDrj";function he(e){var t,n,r,i=e.previewSet,a=e.fileSize,l=e.filename,c=e.isDetailView,v=e.interactive,m=e.itemStatus,h=e.markers,_=e.onCurrentTimeChange,w=e.onMarkerSelect,g=e.onLoad,k=e.className,x=e.isDownloadEnabled,b=(0,o.useState)(!1),I=(0,f.Z)(b,2),C=I[0],y=I[1],P=(0,o.useState)(null),S=(0,f.Z)(P,2),E=S[0],j=S[1],T=(0,p.Z)(),N=(0,f.Z)(T,2),R=N[0],Z=N[1],D=Z.height,A=Z.width,M=(null===i||void 0===i||null===(t=i.audioFull)||void 0===t?void 0:t.url)||void 0,L=(null===i||void 0===i||null===(n=i.audioVisualization)||void 0===n?void 0:n.textWaveform)||void 0,O=(null===i||void 0===i||null===(r=i.audioVisualization)||void 0===r?void 0:r.imageWaveform)||void 0,B=c?D:void 0,F=(0,o.useState)(!1),U=(0,f.Z)(F,2),V=U[0],W=U[1],H=(0,o.useState)(null),G=(0,f.Z)(H,2),q=G[0],$=G[1],X=(0,o.useRef)(!1),Y=(0,se.T)().canUseAudioPlayback,K=(0,o.useContext)(d._f),J=K.audioRefState,Q=K.audioRef,ee=K.setAudioRef,te=M&&(0,s.kS)(l,a),ne=Y&&c&&M&&v&&te&&!C&&m!==At.Processing;function re(e){y(!0),console.error("Failed to load audio preview: ",l,e),X.current||((0,u.U9)({fileName:l,fileType:"Audio",previewSuccess:!1}),X.current=!0)}return(0,o.useEffect)((function(){j({width:A,height:D})}),[D,A]),(0,o.useEffect)((function(){X.current||m!==At.Ready||((0,u.U9)({fileName:l,fileType:"Audio",previewSuccess:void 0!==M}),X.current=!0)}),[M,J,l,m]),(0,o.useEffect)((function(){J&&V&&J.getProvider().then((function(e){var t=(null===e||void 0===e?void 0:e.getElementsByTagName("audio")[0])||null;$(t)}))}),[J,q,V]),(0,z.jsx)(z.Fragment,{children:ne?(0,z.jsx)("div",{className:me,ref:R,"data-test-id":"audio-preview",children:(0,z.jsx)(ae,{previewUrl:M,waveformUrl:L,canvasDimensions:E,height:B,controls:c,markers:h,onCurrentTimeChange:_,onPlaybackReady:function(){W(!0)},onMarkerSelect:w,onError:re,onLoad:g,audioRef:Q,setAudioRef:ee,children:(0,z.jsx)("source",{src:M,type:"audio/mp3",onError:re})},M)}):(0,z.jsx)(pe,{filename:l,size:a,isDetailView:c,onLoad:g,className:k,isDownloadEnabled:x,previewType:le.s.Audio,previewImage:O})})}var _e=n(25215);function we(e){var t=e.src,n=e.loader,r=e.children,i=e.onLoad,a=e.onError,s=(0,o.useCallback)((function(){null===i||void 0===i||i()}),[i]),l=(0,o.useCallback)((function(e){null===a||void 0===a||a(e)}),[a]);return(0,o.useEffect)((function(){if(t){var e=new Image;e.onload=s,e.onerror=l,e.src=t}}),[l,s,t]),(0,z.jsxs)(z.Fragment,{children:[n,r]})}var ge="MarkupLayer_root__z6jIX",ke="MarkupLayer_hideCursor__uTyig",xe=n(72694),be=Object.freeze({strokeStyle:"#FFC610",size:3,thinning:.01,smoothing:.9,streamline:0,start:{cap:!0,taper:0},end:{cap:!0,taper:0}}),Ie=function(e,t){return(e+t)/2},Ce=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.length;if(n<4)return"";for(var r=e[0],i=e[1],a=e[2],o="M".concat(r[0].toFixed(2),",").concat(r[1].toFixed(2)," Q").concat(i[0].toFixed(2),",").concat(i[1].toFixed(2)," ").concat(Ie(i[0],a[0]).toFixed(2),",").concat(Ie(i[1],a[1]).toFixed(2)," T"),s=2,l=n-1;s<l;s++)r=e[s],i=e[s+1],o+="".concat(Ie(r[0],i[0]).toFixed(2),",").concat(Ie(r[1],i[1]).toFixed(2)," ");return t&&(o+="Z"),o};function ye(e,t,n){var r="",i=e.coordinates.map((function(e){return[e[0]*t,e[1]*n]}));return"freehand"!==e.markupTool?r=Ce(i,!1):(i=(0,xe.mx)(i,(0,m.Z)((0,m.Z)({},be),{},{size:e.lineWidth||be.size})),r=Ce(i,!0)),(0,m.Z)((0,m.Z)({},e),{},{pathData:r})}function Pe(e,t,n){return e.map((function(e){return ye(e,t,n)}))}function Se(e){var t=e.width,n=e.height,i=e.className,s=e.onDrawStart,l=e.onDrawComplete,u=e.currentMarkupCollection,c=void 0===u?[]:u,d=e.selectedMarkupCollection,v=void 0===d?[]:d,p=e.lineWidth,h=void 0===p?be.size:p,_=e.strokeStyle,w=void 0===_?be.strokeStyle:_,g=e.markupTool,k=e.isReadOnly,x=void 0!==k&&k,b=e.showCursor,I=void 0===b||b,C=(0,o.useState)(null),y=(0,f.Z)(C,2),P=y[0],S=y[1],E=(0,o.useState)(!1),j=(0,f.Z)(E,2),T=j[0],R=j[1],Z=function(e){x||R(!0),null===s||void 0===s||s()},D=(0,o.useMemo)((function(){return Pe(c,t,n)}),[c,t,n]),A=(0,o.useMemo)((function(){return Pe(v,t,n)}),[v,t,n]),M=(0,o.useMemo)((function(){return P?ye(P,t,n):null}),[P,t,n]),L=function(e){return(0,z.jsx)("path",{d:e.pathData,stroke:e.strokeStyle,strokeWidth:"freehand"===e.markupTool?void 0:e.lineWidth,fill:"freehand"===e.markupTool?e.strokeStyle:"none"},e.pathData.substring(0,10))};return(0,z.jsxs)("svg",{style:{width:"".concat(t,"px"),height:"".concat(n,"px")},className:a()(ge,(0,r.Z)({},ke,!I),i),onPointerDown:Z,onPointerUp:x?void 0:function(){R(!1),P&&(null===l||void 0===l||l(P)),S(null)},onPointerMove:x?void 0:function(e){e.stopPropagation();var r=e.nativeEvent.offsetX/t,i=e.nativeEvent.offsetY/n;T&&S({strokeStyle:(null===P||void 0===P?void 0:P.strokeStyle)||w,lineWidth:(null===P||void 0===P?void 0:P.lineWidth)||h,coordinates:((null===P||void 0===P?void 0:P.coordinates)||[]).concat([[r,i]]),markupTool:(null===P||void 0===P?void 0:P.markupTool)||g})},onMouseLeave:function(e){R(!1);var r=e.nativeEvent.offsetX/t,i=e.nativeEvent.offsetY/n,a=r<0?0:Math.min(1,r),o=i<0?0:Math.min(1,i);P&&(null===l||void 0===l||l((0,m.Z)((0,m.Z)({},P),{},{coordinates:[].concat((0,N.Z)(P.coordinates),[[a,o]])}))),S(null)},onMouseEnter:function(e){e.buttons>0&&Z()},"data-test-id":"markupLayer.canvas",children:[D&&D.map((function(e){return L(e)})),A&&A.map((function(e){return L(e)})),M&&L(M)]})}var Ee="MarkupLayerContainer_root__gsW4e";function je(e){var t=e.children,n=e.width,r=e.height;return(0,z.jsx)("div",{className:Ee,style:n&&r?{width:"".concat(n,"px"),height:"".concat(r,"px")}:void 0,children:t})}function Te(e,t,n,r,i){var a=e.offsetWidth,o=e.offsetHeight,s=r/i,l=t/n,u=a/o,c=a,d=o;return t>n?u>s?l>s?d=(c=o*s)/l:c=o*l:l>s?d=a/l:c=(d=a/s)*l:c=u>s?o*l:(d=a/s)*l,{width:Math.floor(c),height:Math.floor(d)}}var Ne=n(12237),Re="ImagePreview_image__fCEGe",Ze="ImagePreview_show__4j7kK",De="ImagePreview_objectFit__ttBoZ",Ae="ImagePreview_genericPreviewWrapper__wbaHh",Me="ImagePreview_loader__uk9p9",Le="ImagePreview_hide__kN8lN",Oe=function(e){return new Promise((function(t){if(null!==e&&void 0!==e&&e.includes("blob:")){var n=sessionStorage.getItem(e);if(n)t(n);else{var r=new Image;r.src=e,r.crossOrigin="anonymous",r.onload=(0,h.Z)(g().mark((function n(){var i,a,o,s,l,u,c;return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=r.width,a=r.height,!(i<1500||a<1500)){n.next=6;break}return t(e),sessionStorage.setItem(e,e),n.abrupt("return");case 6:return o=.1*i,s=Math.floor(a/i*o),(l=document.createElement("canvas")).width=o,l.height=s,null===(u=l.getContext("2d"))||void 0===u||u.drawImage(r,0,0,o,s),n.next=15,Be(l);case 15:c=n.sent,r.remove(),l.remove(),sessionStorage.setItem(e,c),URL.revokeObjectURL(e),t(c);case 21:case"end":return n.stop()}}),n)})))}}else t(e)}))};function Be(e){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,h.Z)(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.toBlob((function(t){t?e(URL.createObjectURL(t)):n("cant find local image")}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(e){var t=e.naturalWidth/e.naturalHeight,n=e.height*t,r=e.height;return n>e.width&&(n=e.width,r=e.width/t),{width:n,height:r}}function Ve(e){var t,n,i=e.previewSet,l=e.filename,v=e.fileSize,p=e.isDetailView,m=e.itemStatus,_=e.shouldDisplayPreviewPadding,w=void 0===_||_,k=e.shouldDisplayBorder,x=void 0===k||k,b=e.publicId,I=e.onLoad,C=e.showLoader,y=e.className,P=e.forceGenericPreview,S=void 0!==P&&P,E=e.selectedMarkupCollection,j=e.onMarkupLayerDrawStart,T=e.isProcessing,N=e.isDownloadEnabled,R=e.isAddMarkupEnabled,Z=e.showMarkupCursor,D=(0,o.useState)(!1),A=(0,f.Z)(D,2),M=A[0],L=A[1],O=(0,o.useState)(""),B=(0,f.Z)(O,2),F=B[0],U=B[1],V=(0,o.useState)(null),W=(0,f.Z)(V,2),H=W[0],G=W[1],q={isChrome:-1!==navigator.userAgent.indexOf("Chrome"),isSafari:-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome"),isFirefox:-1!==navigator.userAgent.indexOf("Firefox")}.isChrome,$=(0,o.useRef)(null),X=(0,o.useRef)(!1),Y=(0,o.useRef)(!1),K=(0,o.useRef)(!1),J=(0,o.useState)(!0),Q=(0,f.Z)(J,2),ee=Q[0],te=Q[1],ne=(0,o.useState)(!1),re=(0,f.Z)(ne,2),ie=re[0],ae=re[1],oe=(0,o.useContext)(Ne.qJ),se=oe.isAssetReadyToDisplay,le=oe.setIsAssetReadyToDisplay,ue=(0,s.DW)(l),ce=(0,o.useCallback)((function(){$.current&&G(Ue($.current))}),[$]),de=(0,_e.Z)(),ve=(0,o.useContext)(d._f),fe=ve.currentMarkup,me=ve.markupSettings,he=ve.updateCurrentMarkup,ge=b&&p&&!(null===H||void 0===H||!H.width)&&!(null===H||void 0===H||!H.height)&&!!$.current&&!ee&&!M&&ie,ke=null===i||void 0===i||null===(t=i.image)||void 0===t?void 0:t.url,xe=ie&&!S&&!T||S&&se;var be=(0,o.useCallback)((0,h.Z)(g().mark((function e(){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="",!q||!ke){e.next=7;break}return e.next=4,Oe(ke);case 4:t=e.sent,e.next=8;break;case 7:t=ke||"";case 8:te(!1),U(t),L(!t);case 11:case"end":return e.stop()}}),e)}))),[ke,U,q]);(0,o.useEffect)((function(){X.current||((0,u.U9)({fileName:l,fileType:"Image",previewSuccess:null!==ke}),X.current=!0)}),[ke,l]),(0,o.useEffect)((function(){be()}),[be]),(0,o.useEffect)((function(){!K.current&&b&&((0,c.lk)({publicId:b}),K.current=!0)}),[K,b]);var Ie=(0,z.jsx)("div",{className:Ae,children:(0,z.jsx)(pe,{isDetailView:p,filename:l,shouldDisplayPreviewPadding:w,shouldDisplayBorder:x,onLoad:I,isProcessing:!xe&&ue&&(0,s.kS)(l,v),isDownloadEnabled:N})});if((0,o.useEffect)((function(){$.current&&ie&&G(Ue($.current))}),[$,ie]),p&&de(ce),m!==At.Ready&&!ke)return Ie;if(m===At.Ready&&!ke)return Ie;if(!ee&&!F)return Ie;if(M)return Ie;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(we,{src:F,loader:C?(0,z.jsx)("div",{className:a()(Me,(0,r.Z)({},Le,ie))}):null,onLoad:function(){var e;if(ae(!0),!Y.current&&b&&K)try{(0,c.Bb)({publicId:b}),(0,c.n_)({publicId:b}).forEach((function(e){var t=e.duration;(0,u.o9)({duration:t,name:l,fileType:"Image",size:Number(v)||0})})),Y.current=!0}catch(t){(0,u.eK)(t,{reviewItemPublicId:b})}null!==(e=$.current)&&void 0!==e&&e.complete&&(le(!0),null===I||void 0===I||I())},onError:function(e){L(!0),console.error("Failed to load image preview: ",l,e),X.current||((0,u.U9)({fileName:l,fileType:"Image",previewSuccess:!1}),X.current=!0)},children:[!se&&S&&Ie,(0,z.jsx)("img",{ref:$,src:F,alt:l,className:a()(Re,y,(n={},(0,r.Z)(n,Ze,xe),(0,r.Z)(n,De,!!($.current&&p&&H)&&!(H.width<$.current.naturalWidth)&&$.current.naturalHeight<$.current.height),n))})]}),ge&&(0,z.jsx)(je,{children:(0,z.jsx)(Se,{currentMarkupCollection:E?void 0:fe[b],selectedMarkupCollection:E,lineWidth:me.lineWidth,strokeStyle:me.color,markupTool:me.selectedTool,width:H.width,height:H.height,onDrawComplete:function(e){return b&&he(b,e)},onDrawStart:j,isReadOnly:!R,showCursor:Z})})]})}var We=n(24566),He="PdfPreview_label__VEWBW",Ge="PdfPreview_pageCounter__osWWs",ze="PdfPreview_document__X3CJF",qe="PdfPreview_pageNavigation__eboYQ",$e="PdfPreview_iconButton__YfQVe",Xe="PdfPreview_markupLayer__sT0ap",Ye="PdfPreview_calculateScrollbarDiv__QpjN2",Ke="PdfPreview_calculateScrollbarChildDiv__ilNBn",Je=n(37762),Qe=n(43661),et=n(68175),tt=n(86493),nt="PdfPreviewLoading_container__FQcB1";function rt(){return(0,z.jsx)("div",{className:nt,children:(0,z.jsx)(x.$,{})})}var it=n(99689),at=n(34421),ot=function(e,t,n,r,i){var a=(null===r||void 0===r?void 0:r.get(e)[0])||768,o=(null===r||void 0===r?void 0:r.get(e)[1])||768,s=t/a;if(o*s>n){var l=t-i,u=l/a;return{scale:u,scaledWidth:l,scaledHeight:o*u}}return{scale:s,scaledWidth:t,scaledHeight:o*s}},st={containerSingle:"PdfPreviewPage_containerSingle__HYUHa",hiddenPage:"PdfPreviewPage_hiddenPage__L4YW1",page:"PdfPreviewPage_page__zKuT7"};function lt(e){var t=e.cachedPageDimensions,n=e.containerSize,r=e.currentPage,i=e.pageNumber,s=e.pagesLoaded,l=e.numPages,u=e.onPageLoadSuccess,c=e.onPageOutOfRange,d=e.scrollbarWidth,v=(0,o.useState)(0),p=(0,f.Z)(v,2),m=p[0],h=p[1],_=(0,o.useState)(0),w=(0,f.Z)(_,2),g=w[0],k=w[1],x=(0,o.useState)(0),b=(0,f.Z)(x,2),I=b[0],C=b[1],y=n.width,P=n.height;(0,o.useEffect)((function(){if(y){var e=ot(i,y,P,t,d),n=e.scale,r=e.scaledHeight,a=e.scaledWidth;C(a),k(r),h(n)}}),[t,y,P,i,d,h,k,C]);var S=(0,o.useMemo)((function(){return Math.abs(r-i)<10}),[r,i]),E=(0,at.Z)(S),j=(0,o.useMemo)((function(){return s[Math.min(r+10,l)]}),[r,l,s]),T=(0,o.useMemo)((function(){return i>0&&s[i-1]}),[i,s]),N=(0,o.useMemo)((function(){return i<l&&s[i+1]}),[l,i,s]),R=(0,o.useMemo)((function(){return S&&!s[i]&&(T||j&&N)}),[j,N,S,T,s,i]),Z=(0,o.useMemo)((function(){return S&&s[i]}),[S,s,i]),D=(0,o.useMemo)((function(){return(r===i||Z||R)&&m>0}),[r,Z,R,i,m]);(0,o.useEffect)((function(){E&&!S&&c&&c(i)}),[S,c,i,E]);var A=(0,o.useMemo)((function(){return i!==r}),[r,i]);return(0,z.jsx)("div",{className:a()(A?st.hiddenPage:st.container),style:{overflow:"visible"},children:D?(0,z.jsx)(it.Z,{className:st.page,pageNumber:i,renderTextLayer:!1,onRenderSuccess:function(e){u&&u(e)},scale:m,"data-test-id":"pdf.preview.page.".concat(i)}):(0,z.jsx)("div",{style:{width:I+"px",height:g+"px"}})})}var ut="PdfPreviewDocument_container__ZLfHH",ct="PdfPreviewDocument_scrollable__D6Kpa",dt="PdfPreviewDocument_document__tGIBw",vt=(0,o.forwardRef)((function(e,t){var n=e.children,r=e.previewUrl,i=e.numPages,s=e.currentPage,l=e.isDetailView,u=e.className,c=e.markupLayer,v=e.onLoadSuccess,m=e.onLoadError,h=e.onPageLoaded,_=e.onSetMarkupSize,w=e.markupYLocation,g=e.scrollbarWidth,k=t,x=(0,o.useState)(null),b=(0,f.Z)(x,2),I=b[0],C=b[1],y=(0,o.useState)([]),P=(0,f.Z)(y,2),S=P[0],E=P[1],j=(0,d.ze)(),T=j.getPdfBlobUrl,R=j.setPdfBlobUrl;(0,o.useEffect)((function(){Qe.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(Qe.version,"/pdf.worker.min.js")}),[]);var Z=(0,o.useMemo)((function(){return r}),[r]),D=(0,p.Z)(),A=(0,f.Z)(D,2),M=A[0],L=A[1],O=L.height,B=L.width;(0,o.useEffect)((function(){k&&k.current&&w&&(w>k.current.scrollTop+k.current.clientHeight||w<k.current.scrollTop)&&k.current.scrollTo(0,w-20)}),[w,k]),(0,o.useEffect)((function(){if(!I){var e=Z&&T(Z);if(e)return C(e);var t=new AbortController;return fetch(Z,{signal:t.signal}).then((function(e){return e.blob()})).then((function(e){var t=R(Z,e);C(t)})).catch((function(e){"AbortError"!==e.name&&C("")})),function(){return t.abort()}}}),[T,I,R,C,Z]);var F=(0,o.useState)({height:O,width:B}),U=(0,f.Z)(F,2),V=U[0],W=U[1];(0,tt.Z)((function(){W({height:O,width:B});var e=ot(s,B,O,K,g),t=e.scaledHeight,n=e.scaledWidth;l&&(null===_||void 0===_||_({height:t,width:n}))}),500,[s,O,B]);var H=(0,o.useState)(!1),G=(0,f.Z)(H,2),q=G[0],$=G[1],X=(0,o.useState)(null),Y=(0,f.Z)(X,2),K=Y[0],J=Y[1];(0,o.useEffect)((function(){return $(!0)}),[]);var Q=function(e){var t=(0,N.Z)(S);t[e.pageNumber]=!0,E(t),h(e)},ee=function(e){var t=(0,N.Z)(S);t[e]=!1,E(t)};return(0,z.jsxs)(z.Fragment,{children:[I&&(0,z.jsx)("div",{className:a()(ut,u),ref:M,children:(0,z.jsxs)("div",{className:ct,ref:k,children:[(0,z.jsxs)(et.Z,{file:I,onLoadSuccess:function(e){!function(e){var t=Array.from({length:e.numPages},(function(e,t){return t+1})).map((function(t){return e.getPage(t)}));Promise.all(t).then((function(e){if(q){var t,n=new Map,r=[!1],i=(0,Je.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=a.view[2],s=a.view[3];n.set(a._pageIndex+1,[o,s]),r=[].concat((0,N.Z)(r),[!1])}}catch(l){i.e(l)}finally{i.f()}E(r),J(n)}}))}(e),v(e)},onLoadError:m,className:dt,loading:(0,z.jsx)(rt,{}),"data-test-id":"pdf.preview.document",children:[Array.from(new Array(i),(function(e,t){return(0,z.jsx)(lt,{containerSize:V,currentPage:s,pageNumber:t+1,pagesLoaded:S,cachedPageDimensions:K,numPages:i,onPageLoadSuccess:Q,onPageOutOfRange:ee,scrollbarWidth:g},"page_".concat(t+1))})),c]}),n]})}),!S[s]&&(0,z.jsx)(rt,{})]})}));function ft(e){var t,n,r=e.previewSet,i=e.isDetailView,s=e.isGridView,l=e.filename,c=e.size,v=e.itemStatus,p=e.itemId,h=e.shouldDisplayPreviewPadding,_=e.onLoad,w=e.className,g=e.selectedMarkupCollection,k=e.isDownloadEnabled,x=e.isAddMarkupEnabled,b=e.showMarkupCursor,I=e.onMarkupLayerDrawStart,C=(0,o.useState)(!0),y=(0,f.Z)(C,2),P=y[0],S=y[1],E=(0,o.useState)(0),j=(0,f.Z)(E,2),T=j[0],N=j[1],R=(0,o.useRef)(!1),Z=(0,o.useState)(0),D=(0,f.Z)(Z,2),A=D[0],M=D[1],L=(0,o.useContext)(d._f),O=L.currentPDFPage,B=L.setCurrentPDFPage,F=L.currentPDFPageCount,U=L.setCurrentPDFPageCount,V=L.currentMarkup,W=L.markupSettings,H=L.updateCurrentMarkup,G=null===r||void 0===r||null===(t=r.document)||void 0===t?void 0:t.url,q=null===r||void 0===r||null===(n=r.image)||void 0===n?void 0:n.url,$=i?G:q,X=(0,o.useRef)(null),Y=(0,o.useState)(null),K=(0,f.Z)(Y,2),J=K[0],Q=K[1],ee=p&&!(null===J||void 0===J||!J.width)&&!(null===J||void 0===J||!J.height),te=(0,o.useCallback)((function(e){var t=e.height,n=e.width;Q({width:n,height:t})}),[]),ne=(0,o.useMemo)((function(){var e=0;return g&&J&&J.height&&(e=function(e,t){var n=0;return e.forEach((function(e){e.coordinates&&e.coordinates.forEach((function(e){(!n||n>e[1])&&(n=e[1])}))})),n*t.height}(g,J)),e}),[g,J]);return v===At.Uploading||v===At.Processing||G&&!q||!$?(0,z.jsx)(pe,{isDetailView:i,filename:l,size:c,shouldDisplayPreviewPadding:h,onLoad:_,isDownloadEnabled:k}):i?(0,z.jsxs)(vt,{className:ze,isDetailView:i,previewUrl:$,numPages:F,currentPage:O,onLoadSuccess:function(e){i&&(e&&e.numPages&&U(e.numPages),B(1)),S(!1),R.current||((0,u.U9)({fileName:l,fileType:"Pdf",previewSuccess:!0}),R.current=!0);var t=document.createElement("div");t.className=Ye;var n=document.createElement("div");n.className=Ke,t.append(n),document.body.append(t);var r=t.offsetWidth-t.clientWidth;M(r),t.remove(),null===_||void 0===_||_()},onLoadError:function(){R.current||((0,u.U9)({fileName:l,fileType:"Pdf",previewSuccess:!1}),R.current=!0)},onPageLoaded:function(e){e.pageNumber>T&&N(e.pageNumber)},onSetMarkupSize:te,markupYLocation:ne,markupLayer:ee?(0,z.jsx)(je,{width:J.width,height:J.height,children:(0,z.jsx)(Se,{className:Xe,currentMarkupCollection:g?void 0:V[p],selectedMarkupCollection:g,lineWidth:W.lineWidth,strokeStyle:W.color,markupTool:W.selectedTool,width:J.width,height:J.height,onDrawComplete:function(e){return p&&H(p,(0,m.Z)((0,m.Z)({},e),{},{atPage:O}))},onDrawStart:I,isReadOnly:!x,showCursor:b})}):void 0,ref:X,scrollbarWidth:A,children:[!P&&F>1&&(0,z.jsxs)("div",{className:qe,children:[(0,z.jsx)(We.hU,{size:"medium",appearance:"overlay",type:"button",className:$e,onClick:function(){var e;B(O-1),null===(e=X.current)||void 0===e||e.scrollTo(0,0)},disabled:1===O,children:(0,z.jsx)(ce.a2,{})}),(0,z.jsx)(We.hU,{size:"medium",appearance:"overlay",type:"button",className:$e,onClick:function(){var e;T>=O&&(B(O+1),null===(e=X.current)||void 0===e||e.scrollTo(0,0))},disabled:O===F,children:(0,z.jsx)(ce.K5,{})})]}),!P&&(0,z.jsxs)("div",{className:a()(Ge),children:[O,"/",F]})]}):(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(Ve,{filename:l,previewSet:r,itemStatus:v,isDetailView:i,shouldDisplayPreviewPadding:h,onLoad:_,className:w,isDownloadEnabled:k}),s&&(0,z.jsx)("div",{className:He,children:"PDF"})]})}var pt="Preview_container__guZRC",mt="Preview_detailView__Miejk",ht="Preview_blurred__XtzQS",_t="Preview_roundedCorners__6Rr8O",wt=n(74175),gt=n(73388),kt=n(4766),xt=n(68775),bt=n(11087),It=n(66952),Ct=n(27029),yt="VideoEntitlementPreview_container__AXPp-",Pt="VideoEntitlementPreview_description__9JHT5",St="VideoEntitlementPreview_link__DR0Qj";function Et(e){var t=e.limit,n=e.viewerIdentity,i=e.isDetailView,a=void 0!==i&&i,o=e.canDownload,s=void 0!==o&&o,l=(0,ue.$G)().t,u=(0,Ct.Fn)().fireEvent,c="LOADING"!==n&&"OWNER"===n,d=s?"reviewItem.preview.out_of_limit_free":"reviewItem.preview.out_of_limit_free_no_download",v=(0,It.Cp)("?trk=portals_video2gb");return(0,z.jsxs)("div",{className:yt,children:[(0,z.jsx)("div",{children:(0,z.jsx)(xt.o$,{size:"large","aria-hidden":!0,"data-test-id":"preview.video.free_limit_icon"})}),a&&c&&(0,z.jsx)("div",{className:Pt,children:(0,z.jsx)(ue.cC,{i18nKey:d,"data-test-id":"preview.video.free_limit_description",values:{size:function(){if(t)return t/1e9}()},components:[(0,z.jsx)(bt.rU,{className:St,to:v,target:"_blank",rel:"noopener noreferrer",onClick:function(){var e;return u({eventName:Ct.B_.UPGRADE_FLOW_ENTERED,optionalEventProperties:(e={},(0,r.Z)(e,Ct.r8.DESTINATION,v),(0,r.Z)(e,Ct.r8.LOCATION,"Video 2GB"),e),bypassTitleize:!0})}})]})}),a&&!c&&(0,z.jsx)("div",{className:Pt,children:l("reviewItem.preview.out_of_limit_non_owner")})]})}var jt="VideoPreview_videoContainer__dYM04",Tt="VideoPreview_iconOverlay__7Ej2R",Nt="VideoPreview_icon__LVMmn",Rt=1280,Zt=720;function Dt(e){var t,n,r,i,a,s=e.previewSet,l=e.filename,c=e.size,v=e.isDetailView,h=e.interactive,_=e.itemStatus,w=e.markers,g=e.reviewId,k=e.stormId,x=e.publicId,b=e.createdAt,I=e.onCurrentTimeChange,C=e.onMarkerSelect,y=e.onMarkupLayerDrawStart,P=void 0===y?void 0:y,S=e.shouldDisplayPreviewPadding,E=e.onLoad,j=e.className,T=e.selectedMarkupCollection,N=e.isDownloadEnabled,R=e.isAddMarkupEnabled,Z=e.showMarkupCursor,D=e.viewerIdentity,A=(0,o.useState)(!1),M=(0,f.Z)(A,2),L=M[0],O=M[1],B=(0,o.useState)(null),F=(0,f.Z)(B,2),U=F[0],V=F[1],W=(0,p.Z)(),H=(0,f.Z)(W,2),G=H[0],q=H[1],$=q.height,X=q.width,Y=(0,kt.i)().height,K=(0,se.T)(),J=K.canUseFreeTier,Q=K.previews,ee=(0,o.useContext)(de.X).layoutGrid,te=null===s||void 0===s||null===(t=s.image)||void 0===t?void 0:t.url,ne=(null===s||void 0===s||null===(n=s.videoStatic)||void 0===n?void 0:n.url)||void 0,re=null===s||void 0===s||null===(r=s.videoStatic)||void 0===r||null===(i=r.metadata)||void 0===i?void 0:i.framerate,ie=(0,o.useState)(!1),ae=(0,f.Z)(ie,2),oe=ae[0],le=ae[1],ue=(0,o.useState)(null),ve=(0,f.Z)(ue,2),fe=ve[0],me=ve[1],he=(0,o.useRef)(!1),we=(0,o.useRef)(!1),ge=(0,_e.Z)(),ke=(0,o.useCallback)((function(){var e;fe&&null!==s&&void 0!==s&&null!==(e=s.video)&&void 0!==e&&e.metadata&&V(Te(fe,s.video.metadata.width||Rt,s.video.metadata.height||Zt,Rt,Zt))}),[fe,null===s||void 0===s?void 0:s.video]),xe=(0,o.useContext)(d._f),be=xe.currentMarkup,Ie=xe.markupSettings,Ce=xe.updateCurrentMarkup,ye=xe.currentVideoTime,Pe=xe.videoRefState,Ee=xe.videoRef,Ne=xe.setVideoRef,Re="GRID"===ee?"100%":"".concat(Zt,"px"),Ze=v?{display:"flex",minHeight:"12rem"}:{height:Re,width:"100%"},De=(0,gt.u)({canUseFreeTier:J,fileSize:c,identity:D,previews:Q,previewSet:s}),Ae=(!De||!J)&&x&&oe&&!0===v&&!!fe&&!(null===U||void 0===U||!U.width)&&!(null===U||void 0===U||!U.height);function Me(e){O(!0),console.error("Failed to load video preview: ",l,e),we.current||((0,u.U9)({fileName:l,fileType:"Video",previewSuccess:!1}),we.current=!0)}if((0,o.useEffect)((function(){ne&&(he.current||void 0!==re&&null!==re&&0!==re||((0,u.eK)(new Error("Something went wrong with video preview framerate"),{reviewId:g,stormId:k,createdAt:b}),he.current=!0))}),[b,re,g,k,ne]),(0,o.useEffect)((function(){we.current||_!==At.Ready||((0,u.U9)({fileName:l,fileType:"Video",previewSuccess:void 0!==ne}),we.current=!0)}),[ne,Pe,l,_]),(0,o.useEffect)((function(){Pe&&oe&&Pe.getProvider().then((function(e){var t=(null===e||void 0===e?void 0:e.getElementsByTagName("video")[0])||null;me(t)}))}),[Pe,fe,oe]),(0,o.useEffect)((function(){var e;fe&&null!==s&&void 0!==s&&null!==(e=s.video)&&void 0!==e&&e.metadata&&V(Te(fe,s.video.metadata.width||Rt,s.video.metadata.height||Zt,Rt,Zt))}),[s,null===s||void 0===s||null===(a=s.video)||void 0===a?void 0:a.metadata,fe]),v&&ge(ke),_===At.Processing&&!te&&!De)return(0,z.jsx)(pe,{filename:l,size:c,shouldDisplayPreviewPadding:S,onLoad:E,isDownloadEnabled:N});if(!te&&!ne&&!De||L)return(0,z.jsx)(pe,{isDetailView:v,filename:l,size:c,shouldDisplayPreviewPadding:S,onLoad:E,isDownloadEnabled:N});if((!h||Y<575)&&J&&De)return(0,z.jsx)("div",{style:Ze,children:(0,z.jsx)(Et,{limit:null===Q||void 0===Q?void 0:Q.video.quota,isDetailView:v,canDownload:N,viewerIdentity:D})});if(!h)return(0,z.jsx)(Ve,{previewSet:s,filename:l,isDetailView:v,itemStatus:_,onLoad:E,showLoader:!0,className:j,isDownloadEnabled:N});return(0,z.jsx)("div",{className:jt,ref:G,"data-test-id":"video-preview",children:v?(0,z.jsx)(wt.nk,{filename:l,id:null!==x&&void 0!==x?x:"",framerate:null!==re&&void 0!==re?re:24,height:$,width:X,aspectRatio:.5625,controls:v,disablePiP:!0,controlsList:"nodownload",markers:w,onCurrentTimeChange:I,onPlaybackReady:function(){le(!0)},onMarkerSelect:C,onError:Me,onLoad:E,previewLimitDisplay:J&&De?(0,z.jsx)(Et,{limit:null===Q||void 0===Q?void 0:Q.video.quota,isDetailView:v,canDownload:N,viewerIdentity:D}):void 0,markupLayer:Ae?(0,z.jsx)(je,{children:(0,z.jsx)(Se,{currentMarkupCollection:T?void 0:be[x],selectedMarkupCollection:T,lineWidth:Ie.lineWidth,strokeStyle:Ie.color,markupTool:Ie.selectedTool,width:U.width,height:U.height,onDrawComplete:function(e){x&&Ce(x,(0,m.Z)((0,m.Z)({},e),{},{atTimestamp:ye}))},onDrawStart:P,isReadOnly:!R,showCursor:Z})}):void 0,videoRef:Ee,setVideoRef:Ne,children:(0,z.jsx)("source",{src:ne,onError:Me})},ne):(0,z.jsx)(z.Fragment,{children:J&&De?(0,z.jsx)("div",{style:{height:Re,width:"100%"},children:(0,z.jsx)(Et,{})}):(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("div",{className:Tt,children:(0,z.jsx)(ce.sh,{className:Nt})}),(0,z.jsx)(Ve,{previewSet:s,filename:l,isDetailView:v,itemStatus:_,onLoad:E,showLoader:!1,className:j,isDownloadEnabled:N})]})})})}var At,Mt={container:"WebFramePreview_container__wqn14",reportView:"WebFramePreview_reportView__xoqPw",frameContainer:"WebFramePreview_frameContainer__ClnN1",frame:"WebFramePreview_frame__zXUlt",withBorderRadius:"WebFramePreview_withBorderRadius__Sn5yC"},Lt="pasteapp.com",Ot="collect.wetransfer.com";function Bt(){return{getSourceUrl:function(e){var t=new URL(e),n=t.host,r=t.pathname,i=t.search;return n===Lt?function(e,t){var n=(null===e||void 0===e?void 0:e.match(/[^/?]*[^/?]/g))||[],r=n.findIndex((function(e){return"p"===e})),i=n[r+1];return"https://".concat(Lt,"/p/").concat(i,"/embed").concat(t)}(r,i):n===Ot?function(e){var t=(null===e||void 0===e?void 0:e.match(/[^/?]*[^/?]/g))||[],n=t.findIndex((function(e){return"board"===e})),r=t.slice(n+1).join("/");return"https://".concat(Ot,"/embed/").concat(r)}(r):""}}}function Ft(e){var t=e.link,n=e.isDetailView,i=e.isReportView,s=e.interactive,l=e.filename,c=e.previewType,d=e.shouldDisplayPreviewPadding,v=e.hideTitle,f=e.shouldDisplayBorder,p=e.onLoad,m=e.className,h=Bt().getSourceUrl,_=null===t||void 0===t?void 0:t.url,w=(0,o.useRef)(!1);return(0,o.useEffect)((function(){w.current||((0,u.U9)({fileName:l,fileType:"WebFrame",previewSuccess:null!==_&&void 0!==_}),w.current=!0)}),[_,l,t]),s&&_?(0,z.jsx)("div",{className:a()(Mt.container,(0,r.Z)({},Mt.withBorderRadius,n)),children:(0,z.jsx)("div",{className:a()(Mt.frameContainer,(0,r.Z)({},Mt.preview,n)),children:(0,z.jsx)("iframe",{allowFullScreen:!0,className:Mt.frame,title:_,src:_?h(_):"","data-test-id":"frame",onLoad:p})})}):(0,z.jsx)(pe,{filename:l,previewType:c,isDetailView:n,shouldDisplayPreviewPadding:d,hideTitle:v,shouldDisplayBorder:f,onLoad:p,className:m,isReportView:i})}function Ut(e){var t,n,i=e.reviewItem,f=e.isGridView,p=e.isDetailView,m=e.isReportView,h=e.isDownloadEnabled,_=e.markers,w=e.onCurrentTimeChange,g=e.onMarkerSelect,k=e.onMarkupLayerDrawStart,x=e.styleOverrides,b=e.shouldDisplayPreviewPadding,I=e.hideTitle,C=e.shouldDisplayBorder,y=e.isFirstItem,P=e.onLoad,S=e.showLoader,E=e.isLoading,j=e.isLocked,T=e.forceGenericPreview,N=void 0!==T&&T,R=e.isProcessing,Z=e.isAddMarkupEnabled,D=e.showMarkupCursor,A=e.viewerIdentity,M=null===i||void 0===i?void 0:i.publicId,L=(null===i||void 0===i?void 0:i.name)||"",O=null===i||void 0===i?void 0:i.preview,B=null===i||void 0===i?void 0:i.link,F=(0,s.Tn)(i),U=F.isPdf,V=F.isVideo,W=F.isAudio,H=F.isImage,G=F.isLink,q=F.previewType,$=function(e){if(e){if(!e.isProcessingComplete)return At.Uploading;if((0,l.c0)(e.previewStatus,e.preview))return At.Processing}return At.Ready}(i),X=(0,o.useRef)(!1),Y=j?ht:void 0,K=a()(Y,_t),J=(0,o.useContext)(d._f),Q=J.activeCommentId,ee=J.currentPDFPage,te=J.hoveredCommentId;if((0,o.useEffect)((function(){if(y&&!X.current&&i){var e=i.reviewId;try{(0,c.hj)({reviewId:e});var t=(0,c.w5)({reviewId:e}),n=(0,s.JB)(i);t.forEach((function(e){var t=e.duration;(0,u.R3)({duration:t,name:L,fileType:n,size:Number(i.size)})})),X.current=!0}catch(r){(0,u.eK)(r,{reviewItemPublicId:i.publicId})}}}),[y,i,L]),!i&&E)return S?(0,z.jsx)(v.l,{isLoading:!0}):null;var ne,re,ie,ae=H&&""!==te?te:Q,oe=null===i||void 0===i||null===(t=i.comments)||void 0===t||null===(n=t.nodes)||void 0===n?void 0:n.find((function(e){return(null===e||void 0===e?void 0:e.publicId)===ae})),se=(0,z.jsx)(pe,{filename:L,size:null===i||void 0===i?void 0:i.size,previewType:q,isDetailView:p,shouldDisplayPreviewPadding:b,shouldDisplayBorder:C,onLoad:P,className:K,isDownloadEnabled:h,isReportView:m});(G&&(se=(0,z.jsx)(Ft,{filename:L,interactive:f||p,link:B,isDetailView:p,isReportView:m,previewType:q,shouldDisplayPreviewPadding:b,hideTitle:I,shouldDisplayBorder:C,onLoad:P,className:Y})),U)&&(se=(0,z.jsx)(ft,{filename:L,size:null===i||void 0===i?void 0:i.size,isGridView:f,isDetailView:p,previewSet:O,itemStatus:$,itemId:M,onMarkupLayerDrawStart:k,shouldDisplayPreviewPadding:b,selectedMarkupCollection:(null===oe||void 0===oe?void 0:oe.anchor)&&ee===(null===oe||void 0===oe?void 0:oe.anchor.page)&&(null===oe||void 0===oe||null===(ne=oe.anchor)||void 0===ne?void 0:ne.markup)||void 0,onLoad:P,className:Y,isDownloadEnabled:h,isAddMarkupEnabled:Z,showMarkupCursor:D}));H&&(se=(0,z.jsx)(Ve,{publicId:null===i||void 0===i?void 0:i.publicId,filename:L,fileSize:null===i||void 0===i?void 0:i.size,previewSet:O,isDetailView:p,itemStatus:$,shouldDisplayPreviewPadding:b,onLoad:P,showLoader:S,className:Y,forceGenericPreview:N,selectedMarkupCollection:(null===oe||void 0===oe||null===(re=oe.anchor)||void 0===re?void 0:re.markup)||void 0,onMarkupLayerDrawStart:k,isProcessing:R,isAddMarkupEnabled:Z,showMarkupCursor:D,isDownloadEnabled:h}));V&&(se=(0,z.jsx)(Dt,{size:null===i||void 0===i?void 0:i.size,previewSet:O,filename:L,isDetailView:p,interactive:f||p,itemStatus:$,markers:_,reviewId:null===i||void 0===i?void 0:i.reviewId,stormId:null===i||void 0===i?void 0:i.stormId,publicId:null===i||void 0===i?void 0:i.publicId,createdAt:null===i||void 0===i?void 0:i.createdAt,onCurrentTimeChange:w,onMarkerSelect:g,onMarkupLayerDrawStart:k,shouldDisplayPreviewPadding:b,onLoad:P,className:Y,selectedMarkupCollection:(null===oe||void 0===oe||null===(ie=oe.anchor)||void 0===ie?void 0:ie.markup)||void 0,isAddMarkupEnabled:Z,showMarkupCursor:D,isDownloadEnabled:h,viewerIdentity:A}));W&&(se=(0,z.jsx)(he,{previewSet:O,filename:L,isDetailView:p,fileSize:null===i||void 0===i?void 0:i.size,interactive:f||p,itemStatus:$,markers:_,onCurrentTimeChange:w,onMarkerSelect:g,shouldDisplayPreviewPadding:b,onLoad:P,className:Y,isDownloadEnabled:h}));var le=a()(pt,(0,r.Z)({},mt,p),x);return(0,z.jsx)("div",{id:p?"item-preview-".concat(M):void 0,className:le,onContextMenu:function(e){!h&&e.preventDefault()},children:se})}!function(e){e[e.Uploading=0]="Uploading",e[e.Processing=1]="Processing",e[e.Ready=2]="Ready"}(At||(At={}))},66893:function(e,t,n){"use strict";function r(e){var t=e.reviewId;return"/reviews/".concat(t)}n.d(t,{o:function(){return r}})},22327:function(e,t,n){"use strict";n.d(t,{v:function(){return f}});var r=n(4942),i=n(1413),a=n(15861),o=n(64687),s=n.n(o),l=n(59434),u=n(87498),c=n(75159),d=n(64161),v=n(3257);function f(){var e=(0,l.I0)(),t=(0,l.v9)(d.P7),n=function(){var e=(0,a.Z)(s().mark((function e(t){var n,r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query,e.prev=1,e.next=4,u._f.get("/entitlements-lite?scopes=".concat(n));case 4:return r=e.sent,i=r.body,e.abrupt("return",{entitlements:i});case 9:return e.prev=9,e.t0=e.catch(1),(0,c.eK)(e.t0),e.abrupt("return",{error:e.t0});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return{entitlement:n,updateEntitlement:function(n,a){if(Array.isArray(n)){var o=(s=a,n.reduce((function(e,t,n){return t&&s[n]&&(e[t]=s[n]),e}),{}));return e((0,v.fs)((0,i.Z)((0,i.Z)({},t),o)))}var s;e((0,v.fs)((0,i.Z)((0,i.Z)({},t),{},(0,r.Z)({},n,(0,i.Z)({},a)))))}}}},28e3:function(e,t,n){"use strict";n.d(t,{B:function(){return w}});var r,i=n(29439),a=n(72791),o=n(59434),s=n(57689),l=n(85885);!function(e){e.ReviewCollection="REVIEW_COLLECTION",e.Review="REVIEW"}(r||(r={}));var u,c,d=n(30168),v=n(45984),f=n(45726),p=(0,v.Ps)(u||(u=(0,d.Z)(["\n  query GuestTokenByEmail(\n    $email: String!\n    $authenticatableId: String!\n    $authenticatableType: Authenticatable!\n  ) {\n    guestTokenByEmail(\n      email: $email\n      authenticatableId: $authenticatableId\n      authenticatableType: $authenticatableType\n    ) {\n      publicId\n      createdAt\n      email\n      updatedAt\n      authenticatableId\n      authenticatableType\n    }\n  }\n"])));var m=(0,v.Ps)(c||(c=(0,d.Z)(["\n  query GuestTokenById($id: String!) {\n    guestTokenById(id: $id) {\n      publicId\n      createdAt\n      email\n      authenticatableId\n      authenticatableType\n      updatedAt\n    }\n  }\n"])));var h="token";function _(e,t){localStorage.setItem("token-".concat(e),t)}function w(e){var t=e.portalId,n=e.reviewId,u=(0,s.TH)(),c=(0,s.s0)(),d=(0,a.useState)(""),v=(0,i.Z)(d,2),w=v[0],g=v[1],k=(0,a.useState)(""),x=(0,i.Z)(k,2),b=x[0],I=x[1],C=(0,o.v9)(l.HF),y=(0,a.useState)(!1),P=(0,i.Z)(y,2),S=P[0],E=P[1],j=!t,T=j?n:t,N=j?r.Review:r.ReviewCollection,R=function(e){var t,n=e.authenticatableId,r=e.email,a=e.authenticatableType,o=(0,f.aM)({query:p,variables:{email:r,authenticatableId:n,authenticatableType:a},pause:!n||!r}),s=(0,i.Z)(o,1)[0],l=s.data,u=s.fetching;return{guestTokenByEmail:null!==(t=null===l||void 0===l?void 0:l.guestTokenByEmail)&&void 0!==t?t:null,isFetchingGuestTokenByEmail:u}}({authenticatableId:T,email:b,authenticatableType:N}),Z=R.guestTokenByEmail,D=R.isFetchingGuestTokenByEmail,A=function(e){var t,n=(0,f.aM)({query:m,variables:{id:e},pause:!e}),r=(0,i.Z)(n,1)[0],a=r.data,o=r.fetching;return{guestTokenById:null!==(t=null===a||void 0===a?void 0:a.guestTokenById)&&void 0!==t?t:null,isFetchingGuestTokenById:o}}(w),M=A.guestTokenById,L=A.isFetchingGuestTokenById;return(0,a.useEffect)((function(){null!==M&&void 0!==M&&M.email&&!b&&I(null===M||void 0===M?void 0:M.email)}),[b,null===M||void 0===M?void 0:M.email]),(0,a.useEffect)((function(){if(T){if(null!==Z&&void 0!==Z&&Z.publicId)return _(T,Z.publicId),void g(Z.publicId);var e=new URLSearchParams(u.search),t=e.get(h);if(t)return e.delete(h),c({search:e.toString()}),_(T,t),void g(t);var n=function(e){return localStorage.getItem("token-".concat(e))}(T);E(!0),n?g(n):null!==C&&void 0!==C&&C.email&&I(C.email)}}),[null===C||void 0===C?void 0:C.email,null===Z||void 0===Z?void 0:Z.publicId,c,u.search,T]),{guestTokenId:w,guestEmail:(null===Z||void 0===Z?void 0:Z.email)||(null===M||void 0===M?void 0:M.email)||"",isFetchingGuestToken:D||L||!S,setGuestEmail:I}}},4766:function(e,t,n){"use strict";n.d(t,{i:function(){return a}});var r=n(29439),i=n(72791),a=function(){var e=(0,i.useState)({width:0,height:0}),t=(0,r.Z)(e,2),n=t[0],a=t[1];return(0,i.useEffect)((function(){var e=function(){a({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}},62758:function(e,t,n){"use strict";n.d(t,{m2:function(){return a},q:function(){return s}});var r=n(46916),i=n(28447),a=i.oP.getSelectors((function(e){return e.comments})),o=i.oP.getSelectors((function(e){return e.comments})).selectAll,s=function(){return(0,r.P1)([o,function(e,t){return t}],(function(e,t){return e.filter((function(e){return e.reviewId===t}))}))}},21800:function(e,t,n){"use strict";n.d(t,{A8:function(){return a},yh:function(){return o}});var r=n(46916),i=n(87843).f0.getSelectors((function(e){return e.reviewItems})),a=(i.selectById,i.selectIds,i.selectEntities,i.selectAll),o=(i.selectTotal,function(){return(0,r.P1)([a,function(e,t){return t}],(function(e,t){return e.filter((function(e){return e.reviewId===t}))}))})},21673:function(e,t,n){"use strict";n.d(t,{q:function(){return r}});var r=function(e){return e.ui.isEmbeddedMobile}},61173:function(e,t,n){"use strict";function r(e,t){return 0===e.localeCompare(t,void 0,{sensitivity:"accent"})}n.d(t,{$:function(){return r}})},41865:function(e){e.exports=function(e){var t=window,n=t.Intercom;if("function"===typeof n)n("reattach_activator"),n("update",t.intercomSettings);else{var r=document,i=function e(){e.c(arguments)};i.q=[],i.c=function(e){i.q.push(e)},t.Intercom=i;var a=function(){var t=r.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://widget.intercom.io/widget/"+e;var n=r.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)};"complete"===document.readyState?a():t.attachEvent?t.attachEvent("onload",a):t.addEventListener("load",a,!1)}}},16335:function(e,t){"use strict";t.Z={menuItem:"MenuItem_menuItem__kji8H"}},93414:function(){},70172:function(){},2001:function(){},33779:function(){},66558:function(){},82258:function(){}}]);