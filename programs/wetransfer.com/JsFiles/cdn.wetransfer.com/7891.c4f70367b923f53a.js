"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7891],{23366:function(e,n,a){a.d(n,{Z:function(){return m}});var r=a(13706),t=a(90581),l=a(27805),s=a(47842),o=a(21218),i=a(88673),p=a(52322),c=a(13980),u=a.n(c),d=a(2784),v=a(84164),h=a(72164),m=function(e){(0,o.Z)(a,e);var n=(0,i.Z)(a);function a(){var e;return(0,t.Z)(this,a),e=n.apply(this,arguments),(0,s.Z)((0,r.Z)(e),"toggleWallpaperSelection",(function(n){e.props.currentWallpaper===n?e.deselectWallpaper():e.selectWallpaper(n)})),(0,s.Z)((0,r.Z)(e),"showCredits",(function(){return e.props.credits?(0,p.jsxs)("h3",{className:"choose-wallpaper__title",children:[h.Z.t("page.onboarding.preview.wallpaper_credits_prefix")," ",e.props.credits]}):null})),e}return(0,l.Z)(a,[{key:"deselectWallpaper",value:function(){this.props.onChange()}},{key:"selectWallpaper",value:function(e){this.props.onChange(e)}},{key:"renderWallpapers",value:function(){var e=this;return this.props.wallpapers.map((function(n,a){var r=e,t=null,l="";return e.props.currentWallpaper===n&&(t=e.props.selectedWallpaperIcon,l="choose-wallpaper--is-selected"),(0,p.jsx)("button",{onClick:function(e){e.preventDefault(),r.toggleWallpaperSelection(n),r.props.clearWallpaper&&r.props.clearWallpaper()},className:l,"aria-label":"Wallpaper #".concat(a+1,", author: ").concat(n.credits),style:{backgroundImage:"url(".concat(v.Z.lookup(n.thumbnailLarge),")")},children:t},"".concat(n.thumbnailLarge))}))}},{key:"render",value:function(){return(0,p.jsxs)("div",{className:this.props.isActive?"choose-wallpaper":"choose-wallpaper--hidden",children:[(0,p.jsx)("span",{className:"choose-wallpaper__pointer"}),this.showCredits(),this.renderWallpapers()]})}}]),a}(d.PureComponent);m.propTypes={clearWallpaper:u().func,credits:u().string,currentWallpaper:u().object,isActive:u().bool,onChange:u().func,selectedWallpaper:u().object,selectedWallpaperIcon:u().object,wallpapers:u().array}},86654:function(e,n,a){a.d(n,{Bk:function(){return k}});var r=a(13706),t=a(90581),l=a(27805),s=a(47842),o=a(21218),i=a(88673),p=a(52322),c=a(13980),u=a.n(c),d=a(2784),v=a(25356),h=a(41533),m=a(87957),f=a(5026),g=a(67732),Z=function(e){var n=e.value,a=e.thumb,r=e.className,t=a||n,l=t?{backgroundImage:"url("+t+")"}:{};return(0,p.jsx)("div",{className:r,style:l})},k=function(e){var n=e.value,a=e.className,r=n,t=(0,m.Rs)().getUserIndexByEmail,l=g.ZP.getState().user,s=v.Z.getWorkspaceInitials(l),o=t(l.email),i=(0,h.p5)(o),c={backgroundColor:null===i||void 0===i?void 0:i.backgroundColor,color:null===i||void 0===i?void 0:i.fontColor};return(0,p.jsx)("div",{className:a,style:r?{backgroundImage:"url("+r+")"}:c,children:r?null:(0,p.jsx)("span",{children:s})})},y=function(e){(0,o.Z)(a,e);var n=(0,i.Z)(a);function a(){var e;return(0,t.Z)(this,a),e=n.apply(this,arguments),(0,s.Z)((0,r.Z)(e),"videoRef",d.createRef()),(0,s.Z)((0,r.Z)(e),"onMouseOver",(function(){e.videoRef.current.play().catch((function(e){f.Z.track(e)}))})),(0,s.Z)((0,r.Z)(e),"onMouseLeave",(function(){e.videoRef.current.pause()})),(0,s.Z)((0,r.Z)(e),"onError",(function(e){f.Z.track(e)})),e}return(0,l.Z)(a,[{key:"render",value:function(){return(0,p.jsx)("video",{ref:this.videoRef,onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave,onError:this.onError,loop:!0,muted:!0,className:this.props.className,src:this.props.value})}}]),a}(d.PureComponent),b=function(e){var n=e.value,a=e.thumb,r=e.previewType,t=e.className;return"video"===v.Z.getWallpaperPreviewType(r)?(0,p.jsx)(y,{value:n,className:t}):(0,p.jsx)(Z,{value:n,thumb:a,className:t})};b.propTypes={value:u().string,thumb:u().string,previewType:u().string,className:u().string},y.propTypes={value:u().string,className:u().string},Z.propTypes={value:u().string,thumb:u().string,className:u().string},k.propTypes={value:u().string,className:u().string},n.ZP=b},72180:function(e,n,a){a.d(n,{Z:function(){return b}});var r=a(13706),t=a(90581),l=a(27805),s=a(47842),o=a(21218),i=a(70865),p=a(96670),c=a(88673),u=a(52322),d=a(72779),v=a.n(d),h=a(13980),m=a.n(h),f=a(2784),g=a(86654),Z=a(94888),k=a(86518),y=a(25356),b=function(e){(0,o.Z)(a,e);var n=(0,c.Z)(a);function a(e){var l;return(0,t.Z)(this,a),(l=n.call(this,e)).delegateFileClick=l.delegateFileClick.bind((0,r.Z)(l)),l.handleChange=l.handleChange.bind((0,r.Z)(l)),l.handleKeyDown=l.handleKeyDown.bind((0,r.Z)(l)),l.removePreview=l.removePreview.bind((0,r.Z)(l)),l}return(0,l.Z)(a,[{key:"delegateFileClick",value:function(e){if(e.stopPropagation(),this.props.onClick&&this.props.onClick(),"file"===e.target.type)return this;this["".concat(this.props.name,"_inputNode")].click()}},{key:"removePreview",value:function(){this.props.removePreview&&this.props.removePreview(),this["".concat(this.props.name,"_inputNode")].value=null}},{key:"handleChange",value:function(e){e.target.value&&(this.props.onChange(e),this["".concat(this.props.name,"_inputNode")].value=null)}},{key:"handleKeyDown",value:function(e){var n=this.props,a=n.fullClick,r=n.pending;"Enter"===e.key&&a&&!r&&this.delegateFileClick(e)}},{key:"render",value:function(){var e,n,a=this,r=this.props,t=r.value,l=r.fullClick,o=r.pending,c=r.hideWhilePending,d=r.name,h=r.accept,m=r.className,f=r.thumb,k=r.previewType,b=r.avatarUpload,w=this.props,_=w.addElement,C=w.removeElement,N=v()("assetupload",(n={},(0,s.Z)(n,m,m),(0,s.Z)(n,"assetupload--fullclick",l),(0,s.Z)(n,"assetupload--pending",o),(0,s.Z)(n,"assetupload--is-video","video"===y.Z.getWallpaperPreviewType(k)),n));if(o&&(e=(0,u.jsx)("div",{className:"assetupload__pending",children:(0,u.jsx)(Z.Z,{rotate:!0,percentage:25,hideText:!0,circumference:24,stroke:2})})),_){var j=_.type;_=(0,u.jsx)(j,(0,p.Z)((0,i.Z)({},_.props),{className:"assetupload__add-element "+_.props.className,onClick:l?null:this.delegateFileClick}))}if(C){var x=C.type;C=(0,u.jsx)(x,(0,p.Z)((0,i.Z)({},C.props),{className:"assetupload__remove-element "+C.props.className,onClick:this.props.removePreview}))}var W=null;return W=b?(0,u.jsx)(g.Bk,{value:t,previewType:k,className:"assetupload__image--userInitials"}):t&&(0,u.jsx)(g.ZP,{value:t,thumb:f,previewType:k,className:"assetupload__".concat(y.Z.getWallpaperPreviewType(k))}),(0,u.jsxs)("div",{tabIndex:0,onMouseOver:this.props.onMouseOver,onMouseLeave:this.props.onMouseLeave,onFocus:this.props.onMouseOver,onBlur:this.props.onMouseLeave,className:N,onClick:l&&!o?this.delegateFileClick:null,onKeyDown:this.handleKeyDown,children:[(0,u.jsx)("input",{name:d,ref:function(e){return a["".concat(d,"_inputNode")]=e},type:"file",className:"assetupload__input",accept:h,onChange:this.handleChange,disabled:this.props.isDisabled}),W,(0,u.jsxs)("div",{className:"assetupload__actions",children:[o&&c?null:_,o&&c?null:C]}),e,this.props.children]})}}]),a}(f.Component);(0,s.Z)(b,"propTypes",{addElement:m().object,children:m().oneOfType([m().object,m().array]),className:m().string,fullClick:m().bool,hideWhilePending:m().bool,name:m().string,previewType:m().oneOf(["video","image"]),onChange:m().func,onClick:m().func,onMouseLeave:m().func,onMouseOver:m().func,pending:m().bool,removeElement:m().object,removePreview:m().func,thumb:m().string,value:m().string,accept:m().string,isDisabled:m().bool,avatarUpload:m().bool}),(0,s.Z)(b,"defaultProps",{fullClick:!1,hideWhilePending:!0,name:"assetUpload",pending:!1,accept:k.dH.join(","),previewType:"image",avatarUpload:!1})},57580:function(e,n,a){a.d(n,{A_:function(){return o},JN:function(){return i},wZ:function(){return c}});var r=a(52322),t=a(13980),l=a.n(t),s=(a(2784),a(18723)),o="error",i="validated",p="warning",c="info",u=function(e){var n=e.type,a=e.message;if(!a)return null;var t=n!==p&&n!==c;return(0,r.jsxs)("div",{className:"form-notification form-notification--".concat(n),children:[t&&(0,r.jsx)(s.Z,{type:n===o?"Error":"Valid",className:"form-notification__icon"}),(0,r.jsx)("span",{className:"form-notification__message",children:a})]})};u.propTypes={type:l().oneOf([o,i,p,c]).isRequired,message:l().node},u.defaultProps={type:o},n.ZP=u},24273:function(e,n,a){a.d(n,{BZ:function(){return p},GR:function(){return c},Y0:function(){return r}});var r,t,l=a(18149),s=a.n(l),o=a(43162);!function(e){e.email_background="email_background",e.subdomain_name="subdomain_name",e.title="title",e.wallpapers="wallpapers",e.wallpaper_link="wallpaper_link"}(r||(r={})),function(e){e.email_background="Customized Email",e.subdomain_name="Custom Url",e.title="Name",e.wallpapers="Wallpapers",e.wallpaper_link="Website Link"}(t||(t={}));var i=function(e){return Object.values(r).includes(e)},p=function(e){var n=e.filter(i).map((function(e){return t[e]})).sort().join(", ");n.length&&(0,o.rG)({action:"Branding Updated",additionalProperties:{Content:n,Context:"Branding Page"}})},c=function(e,n){var a=Object.keys(n).filter(i).filter((function(a){var r=e[a],t=n[a];return!s()(r,t)}));a.length&&p(a)}}}]);