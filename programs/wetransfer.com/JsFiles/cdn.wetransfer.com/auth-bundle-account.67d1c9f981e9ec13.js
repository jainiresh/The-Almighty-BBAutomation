"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8612],{72874:function(i,e,n){n.r(e),n.d(e,{AccountCallback:function(){return T}});var t=n(52322),r=n(82108),a=n.n(r),o=n(2784),s=n(17635),d=n(78967),c=n(27497),u=n(51393),g=n(41202),l=n(91504),v=n(17898),f=n(81322),p=n(72169),h=n(83043),m=n(90991),I={login:c.x4},k=(0,s.$j)((function(i){var e=i.auth,n=i.user,t=i.session;return{isFromMFA:location.search.includes("enabledMFA="),isLoggedIn:!1!==n.loggedIn,isLoading:e.isLoading,isInitialized:e.isInitialized,state:e.state,domain:t.domain,loginProvider:e["https://wetransfer.com/provider"]}}),I),T=function(i){var e=i.isFromMFA,n=i.isLoggedIn,r=i.isInitialized,c=i.isLoading,I=i.state,k=i.domain,T=i.login,U=i.loginProvider,Z=(0,s.I0)();return(0,o.useEffect)((function(){if(r&&!c){if(!n&&e)return void T();var i=new URLSearchParams(location.search.replace("?","")),t=i.get("workspaceId");if(t&&(p.Z.set(l.X.cookies.currentTeam.name,t,{days:365,domain:k||void 0,path:"/"}),Z(m.Z.User.getUser())),n){if(e)return void h.Z.navigateTo("/account");var o=(0,v.AI)(i.get("trk")||"");if(!i.has("tier")||"free"===i.get("tier")&&!o)return f.ZP.trackAmplitude({action:"User Signed In",additionalProperties:{"Identity Provider":a()(U)}}),h.Z.navigateTo("/")}i.set(d.Cd,"1"),i.has("tier")||((null===I||void 0===I?void 0:I.signUpTier)&&Object.values(g.yv).includes(null===I||void 0===I?void 0:I.signUpTier)?i.set("tier",I.signUpTier):i.set("tier",g.yv.FREE)),h.Z.navigateTo("".concat("/sign-up","?").concat(i.toString()))}}),[e,n,r,c,I,T,k,U,Z]),(0,t.jsx)(u.Z,{})};e.default=k(T)}}]);